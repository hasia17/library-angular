import { Injectable } from '@angular/core';
import { isObservable } from 'rxjs';
export class PortalSearchPage {
    search() {
        this.searchInProgress = true;
        const resultIntermediate = this.doSearch();
        if (isObservable(resultIntermediate)) {
            resultIntermediate.subscribe(data => {
                this.results = data;
                this.searchInProgress = false;
            });
        }
        else {
            this.results = resultIntermediate;
            this.searchInProgress = false;
        }
    }
    reset() {
        this.results = [];
        this.criteria = this.getDefaultCriteria();
    }
    ngOnInit() {
        this.reset();
    }
}
PortalSearchPage.decorators = [
    { type: Injectable }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUG9ydGFsU2VhcmNoUGFnZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BvcnRhbC1saWIvc3JjL2xpYi90a2l0LXBvcnRhbC9wYWdlcy9Qb3J0YWxTZWFyY2hQYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFjLFlBQVksRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUdoRCxNQUFNLE9BQWdCLGdCQUFnQjtJQVFwQyxNQUFNO1FBQ0osSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUM3QixNQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUMzQyxJQUFJLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQ3BDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7WUFDaEMsQ0FBQyxDQUFDLENBQUM7U0FDSjthQUFNO1lBQ0wsSUFBSSxDQUFDLE9BQU8sR0FBRyxrQkFBa0IsQ0FBQztZQUNsQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO1NBQy9CO0lBQ0gsQ0FBQztJQUVELEtBQUs7UUFDSCxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0lBQzVDLENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2YsQ0FBQzs7O1lBOUJGLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGlzT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUG9ydGFsU2VhcmNoUGFnZTxULCBDPiBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIHNlYXJjaEluUHJvZ3Jlc3M6IGJvb2xlYW47XG4gIHB1YmxpYyByZXN1bHRzOiBUW107XG5cbiAgcHVibGljIGNyaXRlcmlhOiBDO1xuICBhYnN0cmFjdCBkb1NlYXJjaCgpOiBUW10gfCBPYnNlcnZhYmxlPFRbXT47XG4gIGFic3RyYWN0IGdldERlZmF1bHRDcml0ZXJpYSgpOiBDO1xuXG4gIHNlYXJjaCgpIHtcbiAgICB0aGlzLnNlYXJjaEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIGNvbnN0IHJlc3VsdEludGVybWVkaWF0ZSA9IHRoaXMuZG9TZWFyY2goKTtcbiAgICBpZiAoaXNPYnNlcnZhYmxlKHJlc3VsdEludGVybWVkaWF0ZSkpIHtcbiAgICAgIHJlc3VsdEludGVybWVkaWF0ZS5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICAgIHRoaXMucmVzdWx0cyA9IGRhdGE7XG4gICAgICAgIHRoaXMuc2VhcmNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzdWx0cyA9IHJlc3VsdEludGVybWVkaWF0ZTtcbiAgICAgIHRoaXMuc2VhcmNoSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmVzdWx0cyA9IFtdO1xuICAgIHRoaXMuY3JpdGVyaWEgPSB0aGlzLmdldERlZmF1bHRDcml0ZXJpYSgpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG59XG4iXX0=