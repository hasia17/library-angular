import { Component, Input, ElementRef, ContentChild, Injector } from '@angular/core';
import { CollapsibleDirective } from '../collapsible.directive';
import { AUTH_SERVICE } from '../../../api/injection-tokens';
export class PortalPageComponent {
    constructor(injectorObj) {
        this.injectorObj = injectorObj;
        this.collapsed = false;
        this.authService = this.injectorObj.get(AUTH_SERVICE);
    }
    ngOnInit() { }
    doSomething() {
        alert('Hey it worked!');
    }
    hasAccess() {
        return this.permission
            ? this.authService.hasPermission(this.permission)
            : true;
    }
    collapse() {
        this.collapsible2.nativeElement.classList.add('hidden');
        this.collapsed = true;
    }
    expand() {
        this.collapsible2.nativeElement.classList.remove('hidden');
        this.collapsed = false;
    }
}
PortalPageComponent.decorators = [
    { type: Component, args: [{
                selector: 'tk-portal-page',
                template: "<div role=\"main\">\n  <div class=\"p-col-12 content-wrapper\">\n    <!--criteria-->\n    <div\n      class=\"card card-w-title no-margin pt-0\"\n      [ngClass]=\"{ collapsed: collapsed }\"\n    >\n      <ng-container *ngIf=\"hasAccess(); else noAccess\">\n        <tk-panel-header\n          [leftToolbar]=\"leftToolbar\"\n          [rightToolbar]=\"pageToolbarRight\"\n        ></tk-panel-header>\n        <div class=\"page-content\">\n          <ng-content></ng-content>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</div>\n\n<ng-template #pageToolbarRight>\n  <ng-container *ngTemplateOutlet=\"rightToolbar\"></ng-container>\n  <tk-toolbar-item\n    *ngIf=\"collapsible2\"\n    title=\"Ausblenden\"\n    class=\"collapse-toggle\"\n    icon=\"angle-up\"\n    (click)=\"collapsed ? expand() : collapse()\"\n  ></tk-toolbar-item>\n</ng-template>\n\n<ng-template #noAccess>\n  <h3>Unauthorized</h3>\n  <p>\n    Sorry, you do not have the permission required to view this page.\n    <span\n      pTooltip=\"Missing permission key: '{{ permission }}''\"\n      tooltipEvent=\"hover\"\n      hideDelay=\"500\"\n      >More info</span\n    >\n  </p>\n</ng-template>\n",
                styles: ["::ng-deep .collapsed .collapse-toggle i{transform:rotate(180deg)}:host ::ng-deep child.collapsible{transition:all .4s ease;background-color:initial;transform:scale(1);max-height:1000px;height:auto}:host ::ng-deep child.collapsible.hidden{max-height:0;opacity:0;background-color:#cecece;transform:scale3d(.5,.5,.5);margin:0}@media only screen and (max-width:430px){.card.card-w-title.no-margin.pt-0{padding-left:.25em;padding-right:.25em}}"]
            },] }
];
PortalPageComponent.ctorParameters = () => [
    { type: Injector }
];
PortalPageComponent.propDecorators = {
    header: [{ type: Input }],
    permission: [{ type: Input }],
    helpArticleId: [{ type: Input }],
    leftToolbar: [{ type: Input }],
    rightToolbar: [{ type: Input }],
    collapsible2: [{ type: ContentChild, args: [CollapsibleDirective, { read: ElementRef },] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9ydGFsLXBhZ2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcG9ydGFsLWxpYi9zcmMvbGliL3RraXQtcG9ydGFsL2NvbXBvbmVudHMvcG9ydGFsLXBhZ2UvcG9ydGFsLXBhZ2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBRVQsS0FBSyxFQUdMLFVBQVUsRUFDVixZQUFZLEVBRVosUUFBUSxFQUNULE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRWhFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQU83RCxNQUFNLE9BQU8sbUJBQW1CO0lBYzlCLFlBQW9CLFdBQXFCO1FBQXJCLGdCQUFXLEdBQVgsV0FBVyxDQUFVO1FBSnpDLGNBQVMsR0FBRyxLQUFLLENBQUM7UUFLaEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQsUUFBUSxLQUFJLENBQUM7SUFFYixXQUFXO1FBQ1QsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUVELFNBQVM7UUFDUCxPQUFPLElBQUksQ0FBQyxVQUFVO1lBQ3BCLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQ2pELENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDWCxDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFDeEIsQ0FBQztJQUNELE1BQU07UUFDSixJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ3pCLENBQUM7OztZQTFDRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLGdCQUFnQjtnQkFDMUIseXFDQUEyQzs7YUFFNUM7OztZQVZDLFFBQVE7OztxQkFZUCxLQUFLO3lCQUNMLEtBQUs7NEJBQ0wsS0FBSzswQkFDTCxLQUFLOzJCQUNMLEtBQUs7MkJBRUwsWUFBWSxTQUFDLG9CQUFvQixFQUFFLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LFxyXG4gIE9uSW5pdCxcclxuICBJbnB1dCxcclxuICBUZW1wbGF0ZVJlZixcclxuICBWaWV3Q2hpbGQsXHJcbiAgRWxlbWVudFJlZixcclxuICBDb250ZW50Q2hpbGQsXHJcbiAgSW5qZWN0LFxyXG4gIEluamVjdG9yXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbGxhcHNpYmxlRGlyZWN0aXZlIH0gZnJvbSAnLi4vY29sbGFwc2libGUuZGlyZWN0aXZlJztcclxuaW1wb3J0IHsgSUF1dGhTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vYXBpL2lhdXRoLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBBVVRIX1NFUlZJQ0UgfSBmcm9tICcuLi8uLi8uLi9hcGkvaW5qZWN0aW9uLXRva2Vucyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3RrLXBvcnRhbC1wYWdlJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vcG9ydGFsLXBhZ2UuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3BvcnRhbC1wYWdlLmNvbXBvbmVudC5jc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUG9ydGFsUGFnZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgQElucHV0KCkgaGVhZGVyOiBzdHJpbmc7XHJcbiAgQElucHV0KCkgcGVybWlzc2lvbjogc3RyaW5nO1xyXG4gIEBJbnB1dCgpIGhlbHBBcnRpY2xlSWQ6IHN0cmluZztcclxuICBASW5wdXQoKSBsZWZ0VG9vbGJhcjogVGVtcGxhdGVSZWY8YW55PjtcclxuICBASW5wdXQoKSByaWdodFRvb2xiYXI6IFRlbXBsYXRlUmVmPGFueT47XHJcblxyXG4gIEBDb250ZW50Q2hpbGQoQ29sbGFwc2libGVEaXJlY3RpdmUsIHsgcmVhZDogRWxlbWVudFJlZiB9KVxyXG4gIGNvbGxhcHNpYmxlMjogRWxlbWVudFJlZjtcclxuXHJcbiAgY29sbGFwc2VkID0gZmFsc2U7XHJcblxyXG4gIGF1dGhTZXJ2aWNlOiBJQXV0aFNlcnZpY2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5qZWN0b3JPYmo6IEluamVjdG9yKSB7XHJcbiAgICB0aGlzLmF1dGhTZXJ2aWNlID0gdGhpcy5pbmplY3Rvck9iai5nZXQoQVVUSF9TRVJWSUNFKTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge31cclxuXHJcbiAgZG9Tb21ldGhpbmcoKSB7XHJcbiAgICBhbGVydCgnSGV5IGl0IHdvcmtlZCEnKTtcclxuICB9XHJcblxyXG4gIGhhc0FjY2VzcygpIHtcclxuICAgIHJldHVybiB0aGlzLnBlcm1pc3Npb25cclxuICAgICAgPyB0aGlzLmF1dGhTZXJ2aWNlLmhhc1Blcm1pc3Npb24odGhpcy5wZXJtaXNzaW9uKVxyXG4gICAgICA6IHRydWU7XHJcbiAgfVxyXG5cclxuICBjb2xsYXBzZSgpIHtcclxuICAgIHRoaXMuY29sbGFwc2libGUyLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICB0aGlzLmNvbGxhcHNlZCA9IHRydWU7XHJcbiAgfVxyXG4gIGV4cGFuZCgpIHtcclxuICAgIHRoaXMuY29sbGFwc2libGUyLm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICB0aGlzLmNvbGxhcHNlZCA9IGZhbHNlO1xyXG4gIH1cclxufVxyXG4iXX0=