import { NgModule, APP_INITIALIZER } from '@angular/core';
import { AUTH_SERVICE } from '../api/injection-tokens';
import { MockAuthService } from '../mock-auth/mock-auth.service';
import { CommonModule } from '@angular/common';
export function initializer(authService) {
    console.log(`Start Mock auth initializer`);
    return () => authService.init().then(res => {
        console.log(`mock auth app_initializer resolved ${res}`);
        return res;
    });
}
/**
 * Mock auth module providing mocked user profile and authnetication. For dev use only.
 */
export class MockAuthModule {
}
MockAuthModule.decorators = [
    { type: NgModule, args: [{
                imports: [CommonModule],
                exports: [],
                declarations: [],
                providers: [
                    {
                        provide: AUTH_SERVICE,
                        useClass: MockAuthService,
                    },
                    {
                        provide: APP_INITIALIZER,
                        useFactory: initializer,
                        multi: true,
                        deps: [AUTH_SERVICE],
                    },
                ],
            },] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9jay1hdXRoLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BvcnRhbC1saWIvc3JjL2xpYi9tb2NrLWF1dGgvbW9jay1hdXRoLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLGVBQWUsRUFBRSxNQUFNLGVBQWUsQ0FBQTtBQUN6RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0seUJBQXlCLENBQUE7QUFDdEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdDQUFnQyxDQUFBO0FBQ2hFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQTtBQUU5QyxNQUFNLFVBQVUsV0FBVyxDQUFDLFdBQTRCO0lBQ3RELE9BQU8sQ0FBQyxHQUFHLENBQUMsNkJBQTZCLENBQUMsQ0FBQTtJQUUxQyxPQUFPLEdBQWlCLEVBQUUsQ0FDeEIsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLHNDQUFzQyxHQUFHLEVBQUUsQ0FBQyxDQUFBO1FBQ3hELE9BQU8sR0FBRyxDQUFBO0lBQ1osQ0FBQyxDQUFDLENBQUE7QUFDTixDQUFDO0FBRUQ7O0dBRUc7QUFrQkgsTUFBTSxPQUFPLGNBQWM7OztZQWpCMUIsUUFBUSxTQUFDO2dCQUNSLE9BQU8sRUFBRSxDQUFDLFlBQVksQ0FBQztnQkFDdkIsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsWUFBWSxFQUFFLEVBQUU7Z0JBQ2hCLFNBQVMsRUFBRTtvQkFDVDt3QkFDRSxPQUFPLEVBQUUsWUFBWTt3QkFDckIsUUFBUSxFQUFFLGVBQWU7cUJBQzFCO29CQUNEO3dCQUNFLE9BQU8sRUFBRSxlQUFlO3dCQUN4QixVQUFVLEVBQUUsV0FBVzt3QkFDdkIsS0FBSyxFQUFFLElBQUk7d0JBQ1gsSUFBSSxFQUFFLENBQUMsWUFBWSxDQUFDO3FCQUNyQjtpQkFDRjthQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUsIEFQUF9JTklUSUFMSVpFUiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5pbXBvcnQgeyBBVVRIX1NFUlZJQ0UgfSBmcm9tICcuLi9hcGkvaW5qZWN0aW9uLXRva2VucydcbmltcG9ydCB7IE1vY2tBdXRoU2VydmljZSB9IGZyb20gJy4uL21vY2stYXV0aC9tb2NrLWF1dGguc2VydmljZSdcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbidcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGF1dGhTZXJ2aWNlOiBNb2NrQXV0aFNlcnZpY2UpOiAoKSA9PiBQcm9taXNlPGFueT4ge1xuICBjb25zb2xlLmxvZyhgU3RhcnQgTW9jayBhdXRoIGluaXRpYWxpemVyYClcblxuICByZXR1cm4gKCk6IFByb21pc2U8YW55PiA9PlxuICAgIGF1dGhTZXJ2aWNlLmluaXQoKS50aGVuKHJlcyA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgbW9jayBhdXRoIGFwcF9pbml0aWFsaXplciByZXNvbHZlZCAke3Jlc31gKVxuICAgICAgcmV0dXJuIHJlc1xuICAgIH0pXG59XG5cbi8qKlxuICogTW9jayBhdXRoIG1vZHVsZSBwcm92aWRpbmcgbW9ja2VkIHVzZXIgcHJvZmlsZSBhbmQgYXV0aG5ldGljYXRpb24uIEZvciBkZXYgdXNlIG9ubHkuXG4gKi9cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGVdLFxuICBleHBvcnRzOiBbXSxcbiAgZGVjbGFyYXRpb25zOiBbXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogQVVUSF9TRVJWSUNFLFxuICAgICAgdXNlQ2xhc3M6IE1vY2tBdXRoU2VydmljZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcbiAgICAgIHVzZUZhY3Rvcnk6IGluaXRpYWxpemVyLFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgICBkZXBzOiBbQVVUSF9TRVJWSUNFXSxcbiAgICB9LFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBNb2NrQXV0aE1vZHVsZSB7fVxuIl19