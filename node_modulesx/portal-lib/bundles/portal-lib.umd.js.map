{"version":3,"file":"portal-lib.umd.js","sources":["../../../projects/portal-lib/src/lib/api/injection-tokens.ts","../../../projects/portal-lib/src/lib/mock-auth/mock-auth.service.ts","../../../projects/portal-lib/src/lib/mock-auth/mock-auth.module.ts","../../../projects/portal-lib/src/lib/api/services/portal-api.service.ts","../../../projects/portal-lib/src/lib/api/configuration.service.ts","../../../projects/portal-lib/src/lib/api/services/user-profile.service.ts","../../../projects/portal-lib/src/lib/tkit-portal/constants.ts","../../../projects/portal-lib/src/lib/auth/keycloak-auth.service.ts","../../../projects/portal-lib/src/lib/auth/auth.module.ts","../../../projects/portal-lib/src/lib/api/model/person.model.ts","../../../projects/portal-lib/src/lib/api/services/breadcrumb.service.ts","../../../projects/portal-lib/src/lib/api/state.service.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/action.directive.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/breadcrumbs/breadcrumb.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/collapsible.directive.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/footer.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/help-edit-dialog.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/http-progress-loader.service.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/http-progress-loader.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/inline-profile.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/loading/loading.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/no-help-info/no-help-info.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/panel-header.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/portal-header/header.component.ts","../../../projects/portal-lib/src/lib/api/services/menu.service.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/portal-menu/portal-menu.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/portal-page/portal-page.component.ts","../../../node_modules/tslib/tslib.es6.js","../../../projects/portal-lib/src/lib/api/services/search-template-api.service.ts","../../../projects/portal-lib/src/lib/api/services/help-page-api.service.ts","../../../projects/portal-lib/src/lib/tkit-portal/pages/PortalPage.ts","../../../projects/portal-lib/src/lib/api/services/theme.service.ts","../../../projects/portal-lib/src/lib/api/services/menu-api.service.ts","../../../projects/portal-lib/src/lib/api/services/feedback-api.service.ts","../../../projects/portal-lib/src/lib/api/services/support-ticket-api.service.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/portal-viewport/portal-viewport.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/pages/PortalSearchPage.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/portal-search-page/portal-search-page.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/tkifperm.directive.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/toolbar-item.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/http-progress-interceptor.ts","../../../projects/portal-lib/src/lib/tkit-portal/tkitPortalInitilizer.ts","../../../projects/portal-lib/src/lib/api/services/portal-item.service.ts","../../../projects/portal-lib/src/lib/api/model/search-item-type.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/search-bar/search-bar.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/result-text.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/feedback/feedback.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/support-ticket/support-ticket.component.ts","../../../projects/portal-lib/src/lib/api/services/icons.service.ts","../../../projects/portal-lib/src/lib/api/services/launchpad.service.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/add-to-launchpad/add-to-launchpad.component.ts","../../../projects/portal-lib/src/lib/tkit-portal/components/aria/tooltip.directive.ts","../../../projects/portal-lib/src/lib/tkit-portal/tkit-portal.module.ts","../../../projects/portal-lib/src/lib/tkit-portal/functions.ts","../../../projects/portal-lib/src/public-api.ts","../../../projects/portal-lib/src/portal-lib.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\r\nimport { IAuthService } from './iauth.service';\r\n\r\nexport interface LibConfig {\r\n  appId: string;\r\n  portalId: string;\r\n  /**\r\n   * If true, the tkit-module will not try to load remote env values from server(GET /assets/env.json)\r\n   */\r\n  skipRemoteConfigLoad: boolean;\r\n  /**\r\n   * URL from which the remote config will be loaded, default: '/assets/env.json'\r\n   */\r\n  remoteConfigURL: string;\r\n}\r\nexport const APP_CONFIG = new InjectionToken<LibConfig>('APP_CONFIG');\r\n\r\nexport const AUTH_SERVICE = new InjectionToken<IAuthService>('AUTH_SERVICE');\r\n","import { Injectable } from '@angular/core';\nimport { IAuthService } from '../api/iauth.service';\nimport { User } from '../api/model';\nimport { UserProfile } from '../api/model/user-profile.model';\nimport { Observable, of, ReplaySubject } from 'rxjs';\nimport { sampleUser } from './sample';\nimport { AvatarInfo } from '../api/model/avatar-info.model';\n\n@Injectable()\nexport class MockAuthService implements IAuthService {\n  private mockUser: UserProfile = {\n    person: {\n      displayName: 'Max Musterman',\n      firstName: 'Max',\n      lastName: 'Mustermann',\n      email: 'max.mustermann@capgemini.com'\n    },\n    accountSettings: {\n      localeAndTimeSettings: { locale: 'de', timezone: 'GMT' },\n      notificationSettings: {},\n      preferences: [],\n      privacySettings: {}\n    },\n    id: 'ID_MOCK_USER',\n    identityProvider: 'MOCK_TKIT_PORTAL_LIB',\n    identityProviderId: 'MOCK_ID',\n    roles: ['user', 'admin'],\n    memberships: [\n      {\n        application: 'APP1',\n        roleMemberships: [\n          {\n            role: 'user',\n            permissions: [\n              {\n                action: 'EDIT',\n                resource: 'ITEM',\n                name: 'Edit item',\n                key: 'ITEM#EDIT'\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  };\n  constructor() {}\n  currentUser(): UserProfile {\n    return this.mockUser;\n  }\n  getAvatar(): Observable<AvatarInfo> {\n    return of(this.mockUser.avatar);\n  }\n\n  public init(): Promise<boolean> {\n    return new Promise((resolve, reject) => resolve(true));\n  }\n\n  hasPermission(permissionKey: string): boolean {\n    return true;\n  }\n\n  logout() {\n    throw new Error('Method not implemented.');\n  }\n  getAuthProviderName() {\n    return 'MOCK_TKIT_PORTAL_LIB';\n  }\n  hasRole(role: string | string[]): boolean {\n    return true;\n  }\n  getRoles(): string[] {\n    return ['tkit-portal-admin'];\n  }\n}\n","import { NgModule, APP_INITIALIZER } from '@angular/core'\nimport { AUTH_SERVICE } from '../api/injection-tokens'\nimport { MockAuthService } from '../mock-auth/mock-auth.service'\nimport { CommonModule } from '@angular/common'\n\nexport function initializer(authService: MockAuthService): () => Promise<any> {\n  console.log(`Start Mock auth initializer`)\n\n  return (): Promise<any> =>\n    authService.init().then(res => {\n      console.log(`mock auth app_initializer resolved ${res}`)\n      return res\n    })\n}\n\n/**\n * Mock auth module providing mocked user profile and authnetication. For dev use only.\n */\n@NgModule({\n  imports: [CommonModule],\n  exports: [],\n  declarations: [],\n  providers: [\n    {\n      provide: AUTH_SERVICE,\n      useClass: MockAuthService,\n    },\n    {\n      provide: APP_INITIALIZER,\n      useFactory: initializer,\n      multi: true,\n      deps: [AUTH_SERVICE],\n    },\n  ],\n})\nexport class MockAuthModule {}\n","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { Portal } from \"../model/portal\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { withCache } from \"@ngneat/cashew\";\n\n@Injectable({ providedIn: \"root\" })\nexport class PortalApiService {\n  constructor(private readonly httpClient: HttpClient) {}\n  baseUrl = \"./portal-api/v1/portals\";\n\n  getPortalData(portal: string): Observable<Portal> {\n    return this.httpClient.get<Portal>(\n      `${this.baseUrl}/${portal}`,\n      withCache()\n    );\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable, Inject } from '@angular/core'\nimport { APP_CONFIG, LibConfig } from './injection-tokens'\nimport { PortalApiService } from './services/portal-api.service'\nimport { Portal } from './model/portal'\nimport { ReplaySubject } from 'rxjs'\n\nconst TKIT_PORTAL_ID = 'TKIT_PORTAL_ID'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ConfigurationService {\n  public lang$ = new ReplaySubject<string>(1)\n\n  private customEnv: any\n  private portalData: Portal\n  error: any\n\n  constructor(\n    private http: HttpClient,\n    private portalService: PortalApiService,\n    @Inject(APP_CONFIG) private appConfig: LibConfig\n  ) {}\n\n  public init(): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      if (this.appConfig.skipRemoteConfigLoad) {\n        console.log(\n          'TKA001: Remote config load is disabled. To enable it, remove the \"skipRemoteConfigLoad\" key in your environemnt.json'\n        )\n        this.customEnv = this.appConfig\n        resolve(false)\n      }\n      let loadConfigPromise: Promise<any>\n      // if we have Backend env vars injected in HTML, use it\n      console.log(`ENV resolved ${window['APP_CONFIG']}`)\n      if (window['APP_CONFIG']) {\n        loadConfigPromise = new Promise((resolve, reject) => {\n          resolve(window['APP_CONFIG'])\n        })\n      } else {\n        console.log('noooo moar http')\n        //otherwise fetch them from env.json\n        loadConfigPromise = this.http.get(this.appConfig.remoteConfigURL || 'assets/env.json').toPromise()\n      }\n\n      loadConfigPromise\n        .then(config => {\n          if (config) {\n            const sanitizedEnvValues = this.sanitizeConfig(config)\n            this.customEnv = { ...this.appConfig, ...sanitizedEnvValues }\n          }\n        })\n        .then(() => {\n          const portalId = this.customEnv[TKIT_PORTAL_ID] || 'PORTAL'\n\n          this.portalService\n            .getPortalData(portalId)\n            .toPromise()\n            .then(data => {\n              if (data) {\n                this.portalData = data\n              }\n              resolve(true)\n            })\n            .catch(err => {\n              console.log(`Failed to load portal data! ${JSON.stringify(err)}`)\n              this.portalData = { portalId: 'PORTAL' }\n              resolve(true)\n            })\n        })\n        .catch(e => {\n          console.log(`Failed to load env configuration`)\n          reject(e)\n        })\n    })\n  }\n\n  private sanitizeConfig(config: Object) {\n    return (\n      Object.keys(config)\n        // only take values that are interpolated/set\n        .filter(key => !(config[key] as string).startsWith('${'))\n        .reduce((obj, key) => {\n          obj[key] = config[key]\n          return obj\n        }, {})\n    )\n  }\n\n  public getProperty(key: string): string {\n    return this.customEnv[key]\n  }\n\n  public getPortalData(): Portal {\n    return this.portalData\n  }\n  public setLang(lang: string) {\n    console.log('[CONFIG SERVICE] SETTING LANG: ', lang)\n    this.lang$.next(lang)\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { HttpClient } from '@angular/common/http'\nimport { Observable, ReplaySubject } from 'rxjs'\nimport { UserProfile, UserProfileAccountSettings } from '../model/user-profile.model'\nimport { UserPerson } from '../model/person.model'\nimport { shareReplay, switchMapTo, tap } from 'rxjs/operators'\nimport { AvatarInfo } from '../model/avatar-info.model'\nimport { ResetPasswordDTO } from '../model/resetPasswordDTO'\nimport { withCache } from '@ngneat/cashew'\n\n@Injectable({ providedIn: 'root' })\nexport class UserProfileService {\n  private url = './portal-api/v1/userProfile/me'\n  private personUrl = './portal-api/v1/userProfile/me/userPerson'\n  private avatarUrl = './portal-api/v1/userProfile/me/avatar'\n  private settingsUrl = './portal-api/v1/userProfile/me/settings'\n  private changePasswordUrl = './portal-api/v1/userProfile/me/change-password'\n\n  private refreshProfile$ = new ReplaySubject<void>(1)\n  private currentAvatar$ = new ReplaySubject<AvatarInfo>(1)\n\n  private currentUser$: Observable<UserProfile> = this.refreshProfile$.pipe(\n    switchMapTo(this.http.get<UserProfile>(this.url)),\n    shareReplay(1)\n  )\n\n  constructor(private http: HttpClient) {}\n\n  getCurrentUser(): Observable<UserProfile> {\n    return this.currentUser$\n  }\n\n  getUpdatedAvatar(): Observable<AvatarInfo> {\n    return this.currentAvatar$\n  }\n\n  updatePersonalInfo(person: UserPerson): Observable<UserPerson> {\n    return this.http.put(this.personUrl, person)\n    // .pipe(tap(() => this.refreshProfile()));\n  }\n\n  setUserAvatar(file: File): Observable<AvatarInfo> {\n    const formData = new FormData()\n    formData.append('file', file)\n    return this.http.put<AvatarInfo>(this.avatarUrl, formData).pipe(tap(avatar => this.currentAvatar$.next(avatar)))\n  }\n\n  removeAvatar() {\n    return this.http.delete(this.avatarUrl).pipe(tap(() => this.currentAvatar$.next(null)))\n  }\n\n  updateUserSettings(settings: UserProfileAccountSettings): Observable<UserPerson> {\n    return this.http.patch(this.settingsUrl, settings)\n  }\n\n  refreshProfile() {\n    this.refreshProfile$.next()\n  }\n\n  getUserSettings(): Observable<UserProfileAccountSettings> {\n    return this.http.get<UserProfileAccountSettings>(this.settingsUrl)\n  }\n\n  getCurrentUserFromBE(): Observable<UserProfile> {\n    return this.http.get<UserProfile>(this.url)\n  }\n\n  changeUserPassword(resetPasswordDTO: ResetPasswordDTO): Observable<any> {\n    return this.http.put<any>(this.changePasswordUrl, resetPasswordDTO)\n  }\n}\n","export const DEFAULT_AVATAR_URL = 'portal-lib/assets/images/default_avatar.png';\nexport const CONFIG_KEY_TKIT_PORTAL_DEFAULT_THEME = \"TKIT_PORTAL_DEFAULT_THEME\";\nexport const CONFIG_KEY_TKIT_PORTAL_DISABLE_THEME_MANAGEMENT = \"TKIT_PORTAL_DISABLE_THEME_MANAGEMENT\";\nexport const CONFIG_KEY_TKIT_PORTAL_THEME_SERVER_URL = \"TKIT_PORTAL_THEME_SERVER_URL\";\nexport const CONFIG_KEY_TKIT_TOKEN_ROLE_CLAIM_NAME = \"TKIT_TOKEN_ROLE_CLAIM_NAME\";\nexport const CONFIG_KEY_TKIT_PORTAL_ID= \"TKIT_PORTAL_ID\";\nexport const CONFIG_KEY_TKIT_SUPPORTED_LANGUAGES= \"TKIT_SUPPORTED_LANGUAGES\";\nexport const CONFIG_KEY_TKIT_SEARCH_BASE_URL = \"TKIT_SEARCH_BASE_URL\";\nexport const CONFIG_KEY_APP_BASE_HREF = \"APP_BASE_HREF\";\nexport const CONFIG_KEY_KEYCLOAK_REALM = \"KEYCLOAK_REALM\";\nexport const CONFIG_KEY_KEYCLOAK_ENABLE_SILENT_SSO = \"KEYCLOAK_ENABLE_SILENT_SSO\";\nexport const CONFIG_KEY_KEYCLOAK_URL = \"KEYCLOAK_URL\";\nexport const CONFIG_KEY_KEYCLOAK_CLIENT_ID = \"KEYCLOAK_CLIENT_ID\"\n","import { Injectable, NgZone } from '@angular/core'\nimport { KeycloakService, KeycloakEventType, KeycloakOptions } from 'keycloak-angular'\nimport { Observable, of, ReplaySubject } from 'rxjs'\nimport { ConfigurationService } from '../api/configuration.service'\nimport { IAuthService } from '../api/iauth.service'\nimport { User } from '../api/model'\nimport { AvatarInfo } from '../api/model/avatar-info.model'\nimport { UserProfile } from '../api/model/user-profile.model'\nimport { UserProfileService } from '../api/services/user-profile.service'\nimport { Router } from '@angular/router'\nimport {\n  CONFIG_KEY_KEYCLOAK_URL,\n  CONFIG_KEY_KEYCLOAK_CLIENT_ID,\n  CONFIG_KEY_KEYCLOAK_REALM,\n  CONFIG_KEY_KEYCLOAK_ENABLE_SILENT_SSO,\n} from '../tkit-portal/constants'\nimport { KeycloakConfig } from 'keycloak-js'\n\nconst KC_REFRESH_TOKEN_LS = 'kc_refreshToken'\nconst KC_ID_TOKEN_LS = 'kc_idToken'\nconst KC_TOKEN_LS = 'kc_token'\nconst TKIT_USER_PROFILE_LS = 'tkit_user_profile'\n\n@Injectable()\nexport class KeycloakAuthService implements IAuthService {\n  userProfile: UserProfile\n  avatarSubject: ReplaySubject<AvatarInfo>\n  private user: User = {\n    userId: 'anonymous',\n    userPerson: { firstName: 'Guest' },\n    functions: [],\n    roles: [],\n  }\n\n  constructor(\n    private keycloakService: KeycloakService,\n    private configService: ConfigurationService,\n    private userProfileService: UserProfileService,\n    private router: Router\n  ) {}\n\n  hasPermission(permissionKey: string): boolean {\n    return this.user.functions ? this.user.functions.includes(permissionKey) : false\n  }\n  currentUser(): UserProfile {\n    return this.userProfile\n  }\n  logout() {\n    this.clearKCStateFromLocalstorage()\n    this.keycloakService.logout()\n  }\n  getAuthProviderName() {\n    return 'Keycloak based Security'\n  }\n\n  public init(): Promise<boolean> {\n    console.log('Keycloak Auth initialization')\n    // load previous tokens, saved after successful login of keycloak success callback\n    let token = localStorage.getItem(KC_TOKEN_LS)\n    let idToken = localStorage.getItem(KC_ID_TOKEN_LS)\n    let refreshToken = localStorage.getItem(KC_REFRESH_TOKEN_LS)\n    if (token) {\n      const parsedToken = JSON.parse(atob(refreshToken.split('.')[1]))\n      console.log(`Got tokens in LC ${parsedToken.exp} ${parsedToken.sub}`)\n      if (parsedToken.exp * 1000 < new Date().getTime()) {\n        //refresh expired, drop everything\n        console.log(`Refresh token expired`)\n        token = undefined\n        refreshToken = undefined\n        idToken = undefined\n        this.clearKCStateFromLocalstorage()\n      }\n    }\n\n    this.setupEventListener()\n\n    // try constructing the KC config from values in env\n    let kcConfig: KeycloakConfig | string = {\n      url: this.configService.getProperty(CONFIG_KEY_KEYCLOAK_URL),\n      clientId:\n        this.configService.getProperty(CONFIG_KEY_KEYCLOAK_CLIENT_ID) || this.configService.getProperty('appId'),\n      realm: this.configService.getProperty(CONFIG_KEY_KEYCLOAK_REALM),\n    }\n    // If any of the required props is missing, fallback to loading KC conf from file\n    if (!kcConfig.clientId || !kcConfig.realm || !kcConfig.url) {\n      kcConfig = './assets/keycloak.json'\n    }\n\n    const enableSilentSSOCheck = this.configService.getProperty(CONFIG_KEY_KEYCLOAK_ENABLE_SILENT_SSO) === 'true'\n\n    const kcOptions: KeycloakOptions = {\n      loadUserProfileAtStartUp: false,\n      config: kcConfig,\n      initOptions: {\n        // onLoad: \"login-required\",\n        onLoad: 'check-sso',\n        checkLoginIframe: false,\n        silentCheckSsoRedirectUri: enableSilentSSOCheck ? this.getSilentSSOUrl() : undefined,\n        idToken,\n        refreshToken,\n        token,\n      },\n      enableBearerInterceptor: true,\n      bearerExcludedUrls: ['/assets'],\n    }\n\n    // console.log(`INit KC with ${JSON.stringify(kcOptions, null, 2)}`)\n    return this.keycloakService\n      .init(kcOptions)\n      .catch(err => {\n        console.log(`kc err ${err}, try force login`)\n        return this.keycloakService.login()\n      })\n      .then(loginOk => {\n        // this will be false if our silent login did not work\n        console.log(`Keycloak init done, loginOk?: ${loginOk}`)\n        if (loginOk) {\n          return this.keycloakService.getToken()\n        } else {\n          // we want to block bootstrap process now\n          return this.keycloakService.login().then(() => 'login')\n        }\n      })\n      .then(tokenString => {\n        const parsedToken = JSON.parse(atob(tokenString.split('.')[1]))\n        console.log(`fetching profile ${JSON.stringify(parsedToken)}`)\n        let profileFromCache =\n          localStorage.getItem(TKIT_USER_PROFILE_LS) &&\n          (JSON.parse(localStorage.getItem(TKIT_USER_PROFILE_LS)) as UserProfile)\n        if (profileFromCache) {\n          //if we have already a profile in LS, check if it is the smae user\n          if (profileFromCache.person.email === parsedToken['email']) {\n            //same user, take from LS and load async to refresh\n            this.refreshProfile()\n            console.log(`load user profile from cache(and reloading asynchronously)`)\n            return profileFromCache\n          } else {\n            console.log(`User profile in LS does not match Keycloak token`)\n            localStorage.removeItem(TKIT_USER_PROFILE_LS)\n          }\n        }\n        console.log(`load user profile from API`)\n        return this.userProfileService.getCurrentUserFromBE().toPromise()\n      })\n      .then(userProfile => {\n        // const parsedToken = JSON.parse(atob(results[1].split(\".\")[1]));\n\n        console.log(`Got user profile, update state`)\n        // this.updateUserFromKeycloak(results[0], parsedToken);\n        this.userProfile = userProfile\n        this.avatarSubject = new ReplaySubject<AvatarInfo>(1)\n        this.handleAvatarUpdate(this.userProfile.avatar)\n        this.userProfileService.getUpdatedAvatar().subscribe(avatar => this.handleAvatarUpdate(avatar))\n        this.updateUserFromUserProfile(this.userProfile)\n        localStorage.setItem(TKIT_USER_PROFILE_LS, JSON.stringify(userProfile))\n        console.log(`Keycloak auth init complete`)\n        return true\n      })\n      .catch(err => {\n        console.log(`KC ERROR ${err} as json ${JSON.stringify(err)}`)\n        throw err\n      })\n  }\n\n  public init2(): Promise<boolean> {\n    console.log('kc init 4')\n    // load previous tokens, saved after successful login of keycloak success callback\n    let token = localStorage.getItem(KC_TOKEN_LS)\n    let idToken = localStorage.getItem(KC_ID_TOKEN_LS)\n    let refreshToken = localStorage.getItem(KC_REFRESH_TOKEN_LS)\n    if (token) {\n      const parsedToken = JSON.parse(atob(refreshToken.split('.')[1]))\n      if (parsedToken.exp * 1000 < new Date().getTime()) {\n        //refresh expired, drop everything\n        console.log(`Refresh token expired`)\n        token = undefined\n        refreshToken = undefined\n        idToken = undefined\n        this.clearKCStateFromLocalstorage()\n      }\n    }\n\n    this.setupEventListener()\n\n    // try constructing the KC config from values in env\n    let kcConfig: KeycloakConfig | string = {\n      url: this.configService.getProperty(CONFIG_KEY_KEYCLOAK_URL),\n      clientId:\n        this.configService.getProperty(CONFIG_KEY_KEYCLOAK_CLIENT_ID) || this.configService.getProperty('appId'),\n      realm: this.configService.getProperty(CONFIG_KEY_KEYCLOAK_REALM),\n    }\n    // If any of the required props is missing, fallback to loading KC conf from file\n    if (!kcConfig.clientId || !kcConfig.realm || !kcConfig.url) {\n      kcConfig = './assets/keycloak.json'\n    }\n\n    const enableSilentSSOCheck = this.configService.getProperty(CONFIG_KEY_KEYCLOAK_ENABLE_SILENT_SSO) === 'true'\n\n    const kcOptions: KeycloakOptions = {\n      loadUserProfileAtStartUp: false,\n      config: kcConfig,\n      initOptions: {\n        // onLoad: \"login-required\",\n        onLoad: 'check-sso',\n        checkLoginIframe: false,\n        silentCheckSsoRedirectUri: enableSilentSSOCheck ? this.getSilentSSOUrl() : undefined,\n        idToken,\n        refreshToken,\n        token,\n      },\n      enableBearerInterceptor: true,\n      bearerExcludedUrls: ['/assets'],\n    }\n\n    console.log(`INit KC with ${JSON.stringify(kcOptions, null, 2)}`)\n\n    return (\n      this.keycloakService\n        .init(kcOptions)\n        .catch(err => {\n          console.log(`kc err ${err}, try force login`)\n          return this.keycloakService.login()\n        })\n        .then(ok => {\n          console.log(`After KC init ${ok}`)\n          return this.keycloakService.getToken()\n        })\n        .then(tokenString => {\n          if (tokenString) {\n            const parsedToken = JSON.parse(atob(tokenString.split('.')[1]))\n            console.log('fetching profile')\n            let profileFromCache\n            if ((profileFromCache = localStorage.getItem(TKIT_USER_PROFILE_LS))) {\n              console.log(`load user profile from cache`)\n              //if we have already a profile in LS, check if it is the smae user\n              if (profileFromCache['email'] === parsedToken['email']) {\n                //same user, take from LS and load async to refresh\n                this.refreshProfile()\n                return JSON.parse(profileFromCache) as UserProfile\n              } else {\n                console.log(`USer in LS does tno match. clear`)\n                localStorage.removeItem(TKIT_USER_PROFILE_LS)\n              }\n            }\n            console.log(`load user profile from API`)\n            return this.userProfileService.getCurrentUserFromBE().toPromise()\n          } else {\n            console.log(`no TOKEN AAAAA`)\n          }\n        })\n        // .then(ok => {\n        //   // return Promise.all([\n        //   //   this.keycloakService.loadUserProfile(),\n        //   //   this.keycloakService.getToken(),\n        //   //   this.userProfileService.getCurrentUserFromBE().toPromise()\n        //   // ]);\n        // })\n        .catch(err => {\n          console.log(`KC ERROR ${err}`)\n          throw err\n        })\n        .then(userProfile => {\n          // const parsedToken = JSON.parse(atob(results[1].split(\".\")[1]));\n\n          console.log(`Got user profile, update`)\n          // this.updateUserFromKeycloak(results[0], parsedToken);\n          this.userProfile = userProfile\n          this.avatarSubject = new ReplaySubject<AvatarInfo>(1)\n          this.handleAvatarUpdate(this.userProfile.avatar)\n          this.userProfileService.getUpdatedAvatar().subscribe(avatar => this.handleAvatarUpdate(avatar))\n          this.updateUserFromUserProfile(this.userProfile)\n          localStorage.setItem(TKIT_USER_PROFILE_LS, JSON.stringify(userProfile))\n          console.log(`KC init complete returnint`)\n          return true\n        })\n    )\n  }\n\n  private setupEventListener() {\n    this.keycloakService.keycloakEvents$.subscribe(ke => {\n      // console.log(\n      //   `KC Event ${ke.type} token: ${\n      //     this.keycloakService.getKeycloakInstance().token\n      //   }`\n      // );\n      // we are logged in, get tokens and store them in localstorage\n      if (this.keycloakService.getKeycloakInstance().token) {\n        localStorage.setItem(KC_TOKEN_LS, this.keycloakService.getKeycloakInstance().token)\n      } else {\n        localStorage.removeItem(KC_TOKEN_LS)\n      }\n      if (this.keycloakService.getKeycloakInstance().idToken) {\n        localStorage.setItem(KC_ID_TOKEN_LS, this.keycloakService.getKeycloakInstance().idToken)\n      } else {\n        localStorage.removeItem(KC_ID_TOKEN_LS)\n      }\n      if (this.keycloakService.getKeycloakInstance().refreshToken) {\n        localStorage.setItem(KC_REFRESH_TOKEN_LS, this.keycloakService.getKeycloakInstance().refreshToken)\n      } else {\n        localStorage.removeItem(KC_REFRESH_TOKEN_LS)\n      }\n      if (ke.type === KeycloakEventType.OnAuthLogout) {\n        console.log('SSO logout nav to root')\n        this.clearKCStateFromLocalstorage()\n        this.router.navigateByUrl('/')\n      }\n    })\n  }\n\n  private clearKCStateFromLocalstorage() {\n    localStorage.removeItem(KC_ID_TOKEN_LS)\n    localStorage.removeItem(KC_TOKEN_LS)\n    localStorage.removeItem(KC_REFRESH_TOKEN_LS)\n  }\n\n  private getSilentSSOUrl() {\n    let currentBase = document.getElementsByTagName('base')[0].href\n    if (currentBase === '/') {\n      currentBase = ''\n    }\n    return `${currentBase}/assets/silent-check-sso.html`\n  }\n\n  hasRole(role: string | string[]): boolean {\n    if (typeof role === 'string') {\n      const roleString = role as string\n      return this.user.roles.map(e => e.toUpperCase()).includes(roleString.toUpperCase())\n    } else {\n      return (\n        this.user.roles\n          .map(e => e.toUpperCase())\n          .filter(item => role.map(e => e.toUpperCase()).includes(item.toUpperCase())).length > 0\n      )\n    }\n  }\n\n  getRoles(): string[] {\n    return this.user.roles\n  }\n\n  refreshProfile() {\n    this.userProfileService.getCurrentUserFromBE().subscribe(profileData => {\n      this.userProfile = profileData\n      localStorage.setItem(TKIT_USER_PROFILE_LS, JSON.stringify(profileData))\n      this.updateUserFromUserProfile(this.userProfile)\n    })\n  }\n\n  loadFullProfile(): Observable<UserProfile> {\n    return this.userProfileService.getCurrentUser()\n  }\n\n  private handleAvatarUpdate(avatarInfo: AvatarInfo) {\n    if (avatarInfo?.avatarImageUrl && avatarInfo?.avatarSmallImageUrl) {\n      this.avatarSubject.next({\n        avatarImageUrl: 'portal-api' + avatarInfo.avatarImageUrl,\n        avatarSmallImageUrl: 'portal-api' + avatarInfo.avatarSmallImageUrl\n      });\n    } else {\n      this.avatarSubject.next(null)\n    }\n  }\n\n  getAvatar(): Observable<AvatarInfo> {\n    return this.avatarSubject.asObservable()\n  }\n\n  private updateUserFromUserProfile(userProfile: UserProfile) {\n    this.user = {\n      roles: userProfile.roles,\n      userId: userProfile.id,\n      principalId: userProfile.id,\n      commonName: userProfile.person.displayName,\n      userPerson: { ...userProfile.person },\n      functions: [],\n    }\n    if (this.userProfile.memberships) {\n      this.userProfile.memberships.forEach(m => {\n        m.roleMemberships.forEach(r => {\n          r.permissions.forEach(p => {\n            this.user.functions.push(p.key)\n          })\n        })\n      })\n    }\n  }\n}\n","import { NgModule, APP_INITIALIZER } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { AUTH_SERVICE } from \"../api/injection-tokens\";\nimport { KeycloakAuthService } from \"./keycloak-auth.service\";\nimport { KeycloakAngularModule } from \"keycloak-angular\";\nimport {\n  HttpCacheInterceptorModule,\n  useHttpCacheLocalStorage\n} from \"@ngneat/cashew\";\n\n@NgModule({\n  declarations: [],\n  imports: [CommonModule, KeycloakAngularModule],\n  exports: [KeycloakAngularModule],\n  providers: [\n    {\n      provide: AUTH_SERVICE,\n      useClass: KeycloakAuthService\n    }\n  ]\n})\nexport class AuthModule {}\n","/**\r\n * 1000kit internal api\r\n * API for portal\r\n *\r\n * OpenAPI spec version: v1\r\n *\r\n *\r\n * NOTE: This class is auto generated by the swagger code generator program.\r\n * https://github.com/swagger-api/swagger-codegen.git\r\n * Do not edit the class manually.\r\n */\r\n\r\nexport interface UserPerson {\r\n  firstName?: string;\r\n  lastName?: string;\r\n  displayName?: string;\r\n  email?: string;\r\n  address?: UserPersonAddress;\r\n  phone?: UserPersonPhone;\r\n}\r\n\r\nexport interface UserPersonAddress {\r\n  street?: string;\r\n  streetNo?: string;\r\n  city?: string;\r\n  postalCode?: string;\r\n  country?: string;\r\n}\r\n\r\nexport interface UserPersonPhone {\r\n  type?: PhoneType;\r\n  number?: string;\r\n}\r\n\r\nexport enum PhoneType {\r\n  MOBILE = 'MOBILE',\r\n  LANDLINE = 'LANDLINE'\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { MenuItem } from 'primeng/api';\r\n\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class BreadcrumbService {\r\n  private itemsSource = new Subject<MenuItem[]>();\r\n\r\n  itemsHandler = this.itemsSource.asObservable();\r\n\r\n  constructor() {}\r\n\r\n  setItems(items: MenuItem[]) {\r\n    this.itemsSource.next(items);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class StateService {\n  private userSettingsActivatedTab: number;\n\n  public getUserSettingsActivatedTab(): number {\n    return this.userSettingsActivatedTab;\n  }\n  public setUserSettingsActivatedTab(tab: number): void {\n    this.userSettingsActivatedTab = tab;\n  }\n}\n","import {\r\n  Directive,\r\n  Input,\r\n  Renderer2,\r\n  ElementRef,\r\n  Inject,\r\n  ViewContainerRef,\r\n  TemplateRef,\r\n  OnInit\r\n} from '@angular/core';\r\nimport { IAuthService } from '../../api/iauth.service';\r\nimport { AUTH_SERVICE } from '../../api/injection-tokens';\r\n\r\n@Directive({ selector: '[tkAction]' })\r\nexport class ActionDirective implements OnInit {\r\n  @Input() permission: string;\r\n  @Input() loaderState: boolean;\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private el: ElementRef,\r\n    // private templateRef: TemplateRef<any>,\r\n    private viewContainer: ViewContainerRef,\r\n    @Inject(AUTH_SERVICE) private authService: IAuthService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    console.log(`Action permission ${this.permission}`);\r\n    if (!this.authService.hasPermission(this.permission)) {\r\n      console.log(`Disable btn because no perm ${this.permission}`);\r\n      this.renderer.setAttribute(this.el.nativeElement, 'disabled', 'disabled');\r\n      this.viewContainer.clear();\r\n    }\r\n  }\r\n}\r\n","import { Component, HostBinding, Input, OnDestroy, OnInit, Output } from '@angular/core'\nimport { Subscription } from 'rxjs'\nimport { BreadcrumbService } from '../../../api/services/breadcrumb.service'\nimport { EventEmitter } from '@angular/core'\nimport { MenuItem } from 'primeng/api'\n\n@Component({\n  selector: 'tk-breadcrumb',\n  templateUrl: './breadcrumb.component.html',\n  styleUrls: ['./breadcrumb.component.scss'],\n})\nexport class BreadcrumbComponent implements OnInit, OnDestroy {\n  subscription: Subscription\n\n  items: any[]\n\n  home: MenuItem\n\n  @Input()\n  disableBreadcrumbs: boolean\n  @Input()\n  fullPortalLayout: boolean\n  @Output()\n  openHelpPage: EventEmitter<any> = new EventEmitter()\n  @Output()\n  openHelpPageEditor: EventEmitter<any> = new EventEmitter()\n\n  constructor(private breadcrumbService: BreadcrumbService) {}\n\n  ngOnInit() {\n    this.subscription = this.breadcrumbService.itemsHandler.subscribe(response => {\n      this.items = response\n    })\n\n    this.home = { icon: 'pi pi-home', routerLink: '/' }\n  }\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe()\n    }\n  }\n\n  onOpenHelpPageEditor(evt: any) {\n    this.openHelpPageEditor.emit(evt)\n  }\n\n  onOpenHelpPage(evt: any) {\n    this.openHelpPage.emit(evt)\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  Output,\n  EventEmitter\n} from \"@angular/core\";\n\n@Directive({\n  selector: \"[tkCollapsible]\"\n})\nexport class CollapsibleDirective {\n  constructor(private el: ElementRef) {\n    console.log(\n      `collapsible directive constructor ${el.nativeElement.classList}`\n    );\n    el.nativeElement.classList.add(\"collapsible\");\n  }\n\n  @Input() isCollapsed = true;\n\n  @Output() collapsed: EventEmitter<any> = new EventEmitter();\n  @Output() expanded: EventEmitter<any> = new EventEmitter();\n\n  toggle() {\n    this.isCollapsed ? this.show() : this.hide();\n  }\n\n  show() {\n    this.isCollapsed = false;\n  }\n\n  hide() {\n    this.isCollapsed = true;\n  }\n}\n","import { Component, Input } from \"@angular/core\";\nimport { Portal } from \"../../api/model/portal\";\n\n@Component({\n  selector: \"tk-footer\",\n  styles: [\n    `\n      .footer span {\n        vertical-align: middle;\n      }\n      .footer-right-segment a {\n        margin-left: 5px;\n        margin-right: 5px;\n      }\n      .footer-right-segment {\n        margin-right: 10px;\n        float: right;\n      }\n      .footer-left-segment {\n        margin-left: 15px;\n        float: left;\n      }\n      .footer-left-segment a {\n        color: #000000;\n      }\n    `\n  ],\n  template: `\n    <div \n      class=\"footer\"\n      id=\"footer\"\n      role=\"contentinfo\"\n    >\n      <span class=\"footer-left-segment\">\n        <a\n          *ngIf=\"homePortal.homePage; else withoutHref\"\n          [href]=\"homePortal.homePage\"\n        >\n          {{ homePortal.footerLabel }}\n        </a>\n        <ng-template #withoutHref>\n          <a>\n            {{ homePortal.footerLabel }}\n          </a>\n        </ng-template>\n        -\n        <span>&copy; All Rights Reserved</span>\n      </span>\n      <div class=\"footer-right-segment\">\n        <span class=\"links\" *ngFor=\"let link of homePortal.subjectLinks\">\n          <a [href]=\"link.url\">{{ link.label }}</a>\n        </span>\n      </div>\n    </div>\n  `\n})\nexport class AppFooterComponent {\n  @Input() homePortal: Portal;\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { HelpData } from '../../api/model';\n\n\n@Component({\n  selector: 'tk-help-editor',\n  template: `\n    <p-dialog\n      header=\"Edit help item for this page\"\n      [contentStyle]=\"{ overflow: 'visible' }\"\n      [style]=\"{ width: '500px', 'max-height': '400px' }\"\n      [(visible)]=\"display\"\n      (onHide)=\"close($event)\"\n    >\n      <div class=\"modal-content\">\n        <form class=\"p-grid p-fluid\">\n          <div class=\"p-col-12\">\n            <span class=\"p-float-label\">\n              <input\n                id=\"page\"\n                type=\"text\"\n                pInputText\n                name=\"page\"\n                disabled=\"true\"\n                [(ngModel)]=\"helpItem.helpItemId\"\n              />\n              <label for=\"page\">Page Item</label>\n            </span>\n          </div>\n          <div class=\"p-col-12\">\n            <span class=\"p-float-label\">\n              <input\n                id=\"baseUrl\"\n                type=\"text\"\n                pInputText\n                name=\"baseUrl\"\n                [(ngModel)]=\"helpItem.baseUrl\"\n              />\n              <label for=\"baseUrl\">Base Url</label>\n            </span>\n          </div>\n          <div class=\"p-col-12\">\n            <span class=\"p-float-label\">\n              <input\n                id=\"relUrl\"\n                type=\"text\"\n                pInputText\n                name=\"relUrl\"\n                [(ngModel)]=\"helpItem.resourceUrl\"\n              />\n              <label for=\"relUrl\">Relative Url</label>\n            </span>\n          </div>\n        </form>\n      </div>\n      <p-footer>\n        <button\n          pButton\n          class=\"primary\"\n          value=\"Save\"\n          label=\"Save\"\n          icon=\"pi pi-check\"\n          (click)=\"save()\"\n        ></button>\n        <button\n          pButton\n          icon=\"pi pi-times\"\n          class=\"flat\"\n          value=\"Cancel\"\n          label=\"Cancel\"\n          (click)=\"display = false\"\n        ></button>\n      </p-footer>\n    </p-dialog>\n  `\n})\nexport class HelpEditDialogComponent implements OnInit {\n  @Input() display = false;\n  @Input() helpItem: HelpData;\n  @Output() closed = new EventEmitter<boolean>();\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  public save() {\n    this.closed.emit(true);\n  }\n  public close(event: any) {\n    this.closed.emit(false);\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HttpProgressLoaderService {\r\n  public isLoading = new BehaviorSubject(false);\r\n  constructor() {}\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { HttpProgressLoaderService } from '../http-progress-loader.service';\n\n@Component({\n  selector: 'tk-http-progress-loader',\n  template: `\n    <div class=\"wrapper\" [ngClass]=\"{ noshow: !loading }\">\n      <svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"50\" cy=\"50\" r=\"45\" />\n      </svg>\n    </div>\n  `,\n  styles: [\n    `\n      :host {\n        display: block;\n        height: 36px;\n      }\n      .wrapper {\n        position: absolute;\n        opacity: 1;\n      }\n      .wrapper.noshow {\n        -webkit-transition: opacity 1s linear;\n        -moz-transition: opacity 1s linear;\n        -o-transition: opacity 1s linear;\n        transition: opacity 1s linear;\n        opacity: 0;\n      }\n      svg {\n        animation: 2s linear infinite svg-animation;\n        width: 36px;\n      }\n\n      .noshow svg {\n        animation: none;\n      }\n\n      @keyframes svg-animation {\n        0% {\n          transform: rotateZ(0deg);\n        }\n        100% {\n          transform: rotateZ(360deg);\n        }\n      }\n\n      circle {\n        animation: 1.4s ease-in-out infinite both circle-animation;\n        display: block;\n        fill: transparent;\n        stroke: #ffffff;\n        stroke-linecap: round;\n        stroke-dasharray: 283;\n        stroke-dashoffset: 280;\n        stroke-width: 10px;\n        transform-origin: 50% 50%;\n      }\n\n      @keyframes circle-animation {\n        0%,\n        25% {\n          stroke-dashoffset: 280;\n          transform: rotate(0);\n        }\n\n        50%,\n        75% {\n          stroke-dashoffset: 75;\n          transform: rotate(45deg);\n        }\n\n        100% {\n          stroke-dashoffset: 280;\n          transform: rotate(360deg);\n        }\n      }\n    `\n  ]\n})\nexport class HttpProgressLoaderComponent implements OnInit {\n  loading: boolean;\n  constructor(private loaderService: HttpProgressLoaderService) {\n    this.loaderService.isLoading.subscribe(v => {\n      this.loading = v;\n    });\n  }\n\n  ngOnInit() {}\n}\n","import {Component, EventEmitter, Inject, Input, OnInit, Output} from '@angular/core';\nimport {\n  animate,\n  state,\n  style,\n  transition,\n  trigger\n} from '@angular/animations';\nimport { AUTH_SERVICE } from '../../api/injection-tokens';\nimport { IAuthService } from '../../api/iauth.service';\nimport { UserProfile } from '../../api/model/user-profile.model';\nimport { DEFAULT_AVATAR_URL } from '../constants';\nimport { AvatarInfo } from '../../api/model/avatar-info.model';\nimport { Router } from '@angular/router';\nimport { ConfigurationService } from '../../api/configuration.service';\n\n@Component({\n  selector: 'tk-inline-profile',\n  templateUrl: 'inline-profile.component.html',\n  styleUrls: ['./inline-profile.component.scss'],\n  animations: [\n    trigger('menu', [\n      state('hiddenAnimated', style({\n        height: '0px',\n        paddingBottom: '0px',\n        overflow: 'hidden'\n      })),\n      state('visibleAnimated', style({\n        height: '*',\n        overflow: 'visible'\n      })),\n      state('visible', style({\n        opacity: 1,\n        'z-index': 100\n      })),\n      state('hidden', style({\n        opacity: 0,\n        'z-index': '*'\n      })),\n      transition('visibleAnimated => hiddenAnimated', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)')),\n      transition('hiddenAnimated => visibleAnimated', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)')),\n      transition('visible => hidden', animate('.1s linear')),\n      transition('hidden => visible', [style({transform: 'scaleY(0.8)'}), animate('.12s cubic-bezier(0, 0, 0.2, 1)')])\n    ])\n  ]\n})\nexport class AppInlineProfileComponent implements OnInit {\n  defaultAvatarUrl = DEFAULT_AVATAR_URL;\n  userProfile: UserProfile;\n  userAvatar: AvatarInfo;\n\n  @Input()\n  inlineMenuActive: boolean\n\n  @Output()\n  inlineMenuClick: EventEmitter<null> = new EventEmitter();\n\n  get displayName() {\n    const person = this.userProfile?.person;\n    if (person?.displayName) {\n      return person.displayName;\n    } else if (person?.firstName && person.lastName) {\n      return person.firstName + ' ' + person.lastName;\n    } else {\n      return this.authService.currentUser().userId;\n    }\n  }\n\n  get baseUrl() {\n    return this.configService.getPortalData().baseUrl;\n  }\n\n  get tabIndex() {\n    return !this.inlineMenuActive ? '-1' : null;\n  }\n\n  constructor(\n    @Inject(AUTH_SERVICE) private authService: IAuthService,\n    private router: Router,\n    private configService: ConfigurationService\n  ) {}\n\n  ngOnInit() {\n    this.userProfile = this.authService.currentUser();\n    this.authService\n      .getAvatar()\n      .subscribe(avatar => (this.userAvatar = avatar));\n  }\n\n  onClick(event) {\n    this.inlineMenuClick.emit(null);\n    event.preventDefault();\n  }\n\n  logout(event: Event) {\n    event.preventDefault();\n    this.authService.logout();\n  }\n}\n","import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'tk-loading',\r\n  templateUrl: './loading.component.html',\r\n  styleUrls: ['./loading.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class LoadingComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","import { Component, OnInit } from '@angular/core';\nimport { DynamicDialogConfig, DynamicDialogRef } from 'primeng/dynamicdialog/';\n\n@Component({\n  template: `\n    <div>\n      <div class=\"dialog-content\">\n        <span\n          >No help was found for this item. Please ask your system administrator\n          to add it. The context ID for this page is below:</span\n        >\n        <span class=\"code p-my-2\">{{ pageId }}</span>\n      </div>\n      <div class=\"dialog-footer\">\n        <div class=\"p-col p-fluid\">\n          <button\n            type=\"button\"\n            pButton\n            label=\"Close\"\n            (click)=\"close()\"\n          ></button>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n      .code {\n        display: block;\n        clear: both;\n        padding: 0.5em;\n        font-family: monospace;\n        background-color: #ececec;\n        border-radius: 4px;\n      }\n    `\n  ]\n})\nexport class NoHelpInfoComponent implements OnInit {\n  pageId: string;\n\n  constructor(\n    public config: DynamicDialogConfig,\n    public ref: DynamicDialogRef\n  ) {\n    this.pageId = config.data.pageItem;\n  }\n\n  ngOnInit() {}\n\n  close() {\n    this.ref.close();\n  }\n}\n","import { Component, OnInit, Input, TemplateRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'tk-panel-header',\r\n  template: `\r\n    <div class=\"panel-header\">\r\n      <div class=\"panel-toolbar-left\">\r\n        <ng-container\r\n          *ngTemplateOutlet=\"leftToolbar ? leftToolbar : defaultLeftToolbar\"\r\n        ></ng-container>\r\n      </div>\r\n      <h1 class=\"panel-heading\">{{ header }}</h1>\r\n      <div class=\"panel-toolbar-right\">\r\n        <ng-container\r\n          *ngTemplateOutlet=\"rightToolbar ? rightToolbar : defaultRightToolbar\"\r\n        ></ng-container>\r\n      </div>\r\n    </div>\r\n\r\n    <ng-template #defaultLeftToolbar> </ng-template>\r\n    <ng-template #defaultRightToolbar> </ng-template>\r\n  `,\r\n  styles: [\r\n    `\r\n      .panel-header {\r\n        display: flex;\r\n      }\r\n      .panel-heading {\r\n        margin: 0px;\r\n        line-height: 30px;\r\n        font-weight: 100;\r\n      }\r\n      .panel-toolbar-right {\r\n        margin-left: auto;\r\n      }\r\n      .panel-toolbar-left,\r\n      .panel-toolbar-right {\r\n        display: flex;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class PanelHeaderComponent implements OnInit {\r\n  @Input() header: string;\r\n  @Input() leftToolbar: TemplateRef<any>;\r\n  @Input() rightToolbar: TemplateRef<any>;\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","import { Component, ElementRef, EventEmitter, Inject, Input, OnInit, Output, ViewChild } from '@angular/core'\nimport { Observable } from 'rxjs'\nimport { IAuthService } from '../../../api/iauth.service'\nimport { AUTH_SERVICE } from '../../../api/injection-tokens'\nimport { AvatarInfo } from '../../../api/model/avatar-info.model'\nimport { UserProfile } from '../../../api/model/user-profile.model'\nimport { CONFIG_KEY_TKIT_SEARCH_BASE_URL, DEFAULT_AVATAR_URL } from '../../constants'\nimport { ConfigurationService } from '../../../api/configuration.service'\nimport { StateService } from '../../../api/state.service'\nimport { Router } from '@angular/router'\nimport { animate, AnimationEvent, style, transition, trigger } from '@angular/animations'\n\n@Component({\n  selector: 'tk-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss'],\n  animations: [\n    trigger('topbarActionPanelAnimation', [\n      transition(':enter', [\n        style({ opacity: 0, transform: 'scaleY(0.8)' }),\n        animate('.12s cubic-bezier(0, 0, 0.2, 1)', style({ opacity: 1, transform: '*' })),\n      ]),\n      transition(':leave', [animate('.1s linear', style({ opacity: 0 }))]),\n    ]),\n  ],\n})\nexport class HeaderComponent implements OnInit {\n  defaultAvatarUrl = DEFAULT_AVATAR_URL\n  menuExpanded: boolean\n  menuItems: any\n  userProfile: UserProfile\n  userDisplayName: string\n  userAvatar: Observable<AvatarInfo>\n  searchUrl: string\n\n  @ViewChild('searchInput') searchInputViewChild: ElementRef\n\n  mobileTopbarActive: boolean\n\n  // TODO doesn't always work (cd related?)\n  @Input()\n  menuButtonTitle: string\n  @Output()\n  menuButtonClick: EventEmitter<any> = new EventEmitter()\n  @Output()\n  topbarItemClick: EventEmitter<any> = new EventEmitter()\n  @Output()\n  openHelpPage: EventEmitter<any> = new EventEmitter()\n  @Output()\n  openHelpPageEditor: EventEmitter<any> = new EventEmitter()\n  @Output()\n  openFeedback: EventEmitter<any> = new EventEmitter()\n  @Output()\n  openAddToLaunchpad: EventEmitter<any> = new EventEmitter()\n  @Output()\n  openSupportTicket: EventEmitter<any> = new EventEmitter()\n  @Output()\n  searchClick: EventEmitter<any> = new EventEmitter()\n  @Input()\n  profileMode: string\n  @Input()\n  isHorizontal: boolean\n  @Input()\n  activeTopbarItem: any\n  @Input()\n  disableBreadcrumbs: boolean\n  @Input()\n  fullPortalLayout: boolean\n  @Input()\n  search: boolean\n\n  @Input()\n  homeNavUrl = '/'\n  @Input()\n  homeNavTitle = 'Home'\n\n  constructor(\n    @Inject(AUTH_SERVICE) private authService: IAuthService,\n    private config: ConfigurationService,\n    private stateService: StateService,\n    private router: Router\n  ) {}\n\n  ngOnInit() {\n    this.userProfile = this.authService.currentUser()\n    this.userAvatar = this.authService.getAvatar()\n    this.userDisplayName = this.authService.currentUser().person.displayName\n    this.searchUrl = this.config.getProperty(CONFIG_KEY_TKIT_SEARCH_BASE_URL) || '/ops/enterprise-search'\n  }\n\n  clickMenu() {\n    console.log('Menu click')\n    this.menuExpanded = !this.menuExpanded\n  }\n\n  navigateTo(path: string, event: Event) {\n    event.preventDefault()\n    path = this.config.getPortalData().baseUrl + path\n    location.assign(path)\n  }\n\n  logout(event: Event) {\n    event.preventDefault()\n    this.authService.logout()\n  }\n\n  onMenuButtonClick(e: Event) {\n    this.menuButtonClick.emit(e)\n  }\n  onTopbarItemClick(e: Event, arg: any) {\n    this.topbarItemClick.emit({ event: e, arg })\n  }\n  onOpenHelpPageEditor(e: Event) {\n    this.openHelpPageEditor.emit(e)\n  }\n  onOpenHelpPage(e: Event) {\n    this.openHelpPage.emit(e)\n  }\n  onOpenFeedback(e: Event) {\n    this.openFeedback.emit(e)\n  }\n  onAddToFavourites(e: Event) {\n    this.openAddToLaunchpad.emit(e)\n  }\n  onOpenSupportTicket(e: Event) {\n    this.openSupportTicket.emit(e)\n  }\n\n  onTopbarMobileButtonClick($event: MouseEvent) {\n    this.mobileTopbarActive = !this.mobileTopbarActive\n    $event.preventDefault()\n  }\n\n  onSearchClick(e: Event, val: boolean) {\n    this.searchClick.emit({ event: e, val })\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class MenuService {\n\n    private menuSource = new Subject<string>();\n    private resetSource = new Subject();\n\n    menuSource$ = this.menuSource.asObservable();\n    resetSource$ = this.resetSource.asObservable();\n\n    onMenuStateChange(key: string) {\n        this.menuSource.next(key);\n    }\n\n    reset() {\n        this.resetSource.next();\n    }\n}\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\nimport {animate, state, style, transition, trigger} from '@angular/animations';\nimport {MenuItem} from 'primeng/api';\nimport {MenuService} from '../../../api/services/menu.service'\nimport {Subscription} from \"rxjs\";\nimport {NavigationEnd, Router} from \"@angular/router\";\nimport {filter} from \"rxjs/operators\";\n\n@Component({\n  selector: 'tk-menu',\n  templateUrl: 'portal-menu.component.html',\n})\nexport class AppMenuComponent {\n  @Input()\n  menuActive: boolean;\n  @Input()\n  isStatic: boolean;\n  @Input()\n  isHorizontal: boolean;\n  @Input()\n  isMobile: boolean;\n  @Input()\n  isDesktop: boolean;\n  @Input()\n  isSlim: boolean;\n  @Input()\n  menuHoverActive: boolean;\n  @Input()\n  mobileMenuActive: boolean;\n\n  @Input()\n  set portalMenu(items: MenuItem[]) {\n    this.menuWithRoot = {\n      label: 'Menu',\n      icon: 'list',\n      items: items\n    }\n  }\n\n  @Output()\n  menuActiveChange: EventEmitter<boolean> = new EventEmitter();\n  @Output()\n  mobileMenuActiveChange: EventEmitter<boolean> = new EventEmitter();\n\n  menuWithRoot: MenuItem;\n\n  constructor() {}\n}\n\n@Component({\n  /* eslint-disable @angular-eslint/component-selector */\n  selector: '[tk-submenu]',\n  /* eslint-enable @angular-eslint/component-selector */\n  template: `\n    <ng-container>\n        <div *ngIf=\"root\">\n          <span class=\"layout-menuitem-text\">{{item.label}}</span>\n        </div>\n        <a [attr.href]=\"item.url\" (click)=\"itemClick($event)\" *ngIf=\"!item.routerLink || item.items\" (keydown.enter)=\"itemClick($event)\"\n           [attr.target]=\"item.target\" [attr.tabindex]=\"0\" (mouseenter)=\"onMouseEnter()\" pRipple>\n          <i [ngClass]=\"'pi-' + item.icon\" class=\"layout-menuitem-icon pi pi-fw\"></i>\n          <span class=\"layout-menuitem-text\">{{item.label}}</span>\n          <span class=\"p-badge p-component p-badge-no-gutter\" *ngIf=\"item.badge && !root\">{{item.badge}}</span>\n          <i class=\"pi pi-fw pi-angle-down layout-submenu-toggler\" *ngIf=\"item.items\"></i>\n        </a>\n        <a (click)=\"itemClick($event)\" *ngIf=\"item.routerLink && !item.items\"\n           [routerLink]=\"item.routerLink\" routerLinkActive=\"active-menuitem-routerlink\" [routerLinkActiveOptions]=\"{exact: true}\"\n           [attr.target]=\"item.target\" [attr.tabindex]=\"0\" (mouseenter)=\"onMouseEnter()\" pRipple>\n          <i [ngClass]=\"'pi-' + item.icon\" class=\"layout-menuitem-icon pi pi-fw\"></i>\n          <span class=\"layout-menuitem-text\">{{item.label}}</span>\n          <span class=\"p-badge p-component p-badge-no-gutter\" *ngIf=\"item.badge && !root\">{{item.badge}}</span>\n          <i class=\"pi pi-fw pi-angle-down layout-submenu-toggler\" *ngIf=\"item.items\"></i>\n        </a>\n        <ul *ngIf=\"(item.items && root) || (item.items && active)\" [@children]=\"root ? 'visible' : active ? 'visibleAnimated' : 'hiddenAnimated'\">\n          <ng-template ngFor let-child let-i=\"index\" [ngForOf]=\"item.items\">\n            <li tk-submenu [item]=\"child\" [index]=\"i\" [parentKey]=\"key\"></li>\n          </ng-template>\n        </ul>\n    </ng-container>\n  `,\n  host: {\n    '[class.layout-root-menuitem]': 'root || active',\n    '[class.active-menuitem]': '(active)'\n  },\n  animations: [\n    trigger('children', [\n      state('void', style({\n        height: '0px',\n        padding: '0px'\n      })),\n      state('hiddenAnimated', style({\n        height: '0px',\n        padding: '0px'\n      })),\n      state('visibleAnimated', style({\n        height: '*'\n      })),\n      state('visible', style({\n        height: '*'\n      })),\n      state('hidden', style({\n        height: '0px',\n        padding: '0px'\n      })),\n      transition('visibleAnimated => hiddenAnimated', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)')),\n      transition('hiddenAnimated => visibleAnimated', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)')),\n      transition('void => visibleAnimated, visibleAnimated => void',\n          animate('400ms cubic-bezier(0.86, 0, 0.07, 1)'))\n    ])\n  ]\n})\nexport class AppSubMenuComponent implements OnInit, OnDestroy {\n  @Input() item: MenuItem;\n\n  @Input() root: boolean;\n\n  @Input() visible: boolean;\n\n  @Input() index: number;\n\n  @Input() parentKey: string;\n\n  @Input()\n  menuActive: boolean;\n  @Input()\n  isStatic: boolean;\n  @Input()\n  isHorizontal: boolean;\n  @Input()\n  isMobile: boolean;\n  @Input()\n  isDesktop: boolean;\n  @Input()\n  isSlim: boolean;\n  @Input()\n  menuHoverActive: boolean;\n  @Input()\n  mobileMenuActive: boolean;\n\n  @Output()\n  menuActiveChange: EventEmitter<boolean> = new EventEmitter();\n  @Output()\n  mobileMenuActiveChange: EventEmitter<boolean> = new EventEmitter();\n\n  active = false;\n\n  menuSourceSubscription: Subscription;\n\n  menuResetSubscription: Subscription;\n\n  key: string;\n\n  constructor(private menuService: MenuService, private router: Router) {}\n\n  ngOnInit() {\n    this.menuSourceSubscription = this.menuService.menuSource$.subscribe(key => {\n      // deactivate current active menu\n      if (this.active && this.key !== key && key.indexOf(this.key) !== 0) {\n        this.active = false;\n      }\n    });\n\n    this.menuResetSubscription = this.menuService.resetSource$.subscribe(() => {\n      this.active = false;\n    })\n\n    // TODO Ultima11: Verify if this logic works with our setup\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd))\n        .subscribe(params => {\n          if (this.isSlim) {\n            this.active = false;\n          } else {\n            if (this.item.routerLink) {\n              this.updateActiveStateFromRoute();\n            } else {\n              this.active = false;\n            }\n          }\n        });\n\n    if ((this.isHorizontal || this.isSlim) && this.item.routerLink) {\n      this.updateActiveStateFromRoute()\n    }\n\n    this.key = this.parentKey ? this.parentKey + '-' + this.index : String(this.index);\n  }\n\n  ngOnDestroy() {\n    if (this.menuSourceSubscription) {\n      this.menuSourceSubscription.unsubscribe();\n    }\n\n    if (this.menuResetSubscription) {\n      this.menuResetSubscription.unsubscribe();\n    }\n  }\n\n  updateActiveStateFromRoute() {\n    this.active = this.router.isActive(this.item.routerLink[0], !this.item.items);\n  }\n\n\n  itemClick(event: Event) {\n    // avoid processing disabled items\n    if (this.item.disabled) {\n      event.preventDefault();\n      return true;\n    }\n\n    this.menuService.onMenuStateChange(this.key)\n\n    // execute command\n    if (this.item.command) {\n      this.item.command({ originalEvent: event, item: this.item });\n    }\n\n    if (this.item.items) {\n      this.active = !this.active;\n    } else {\n      this.active = true;\n\n      if (this.isHorizontal || this.isSlim) {\n        this.menuService.reset();\n        this.menuHoverActive = false;\n      }\n\n      if (!this.isStatic) {\n        this.menuActiveChange.emit(false);\n      }\n\n      this.mobileMenuActiveChange.emit(false);\n    }\n\n    // prevent hash change\n    if (this.item.items || (!this.item.url && !this.item.routerLink)) {\n      // TODO https://github.com/primefaces/primeng/issues/8751\n      // setTimeout(() => {\n      //   this.app.layoutMenuScrollerViewChild.moveBar();\n      // }, 450);\n      event.preventDefault();\n    }\n  }\n\n  onMouseEnter() {\n    if (\n      this.root &&\n      this.menuHoverActive &&\n      (this.isHorizontal || this.isSlim) &&\n      this.isDesktop\n    ) {\n      this.menuService.onMenuStateChange(this.key);\n      this.active = true;\n    }\n  }\n\n}\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ElementRef,\r\n  ContentChild,\r\n  Inject,\r\n  Injector\r\n} from '@angular/core';\r\nimport { CollapsibleDirective } from '../collapsible.directive';\r\nimport { IAuthService } from '../../../api/iauth.service';\r\nimport { AUTH_SERVICE } from '../../../api/injection-tokens';\r\n\r\n@Component({\r\n  selector: 'tk-portal-page',\r\n  templateUrl: './portal-page.component.html',\r\n  styleUrls: ['./portal-page.component.css']\r\n})\r\nexport class PortalPageComponent implements OnInit {\r\n  @Input() header: string;\r\n  @Input() permission: string;\r\n  @Input() helpArticleId: string;\r\n  @Input() leftToolbar: TemplateRef<any>;\r\n  @Input() rightToolbar: TemplateRef<any>;\r\n\r\n  @ContentChild(CollapsibleDirective, { read: ElementRef })\r\n  collapsible2: ElementRef;\r\n\r\n  collapsed = false;\r\n\r\n  authService: IAuthService;\r\n\r\n  constructor(private injectorObj: Injector) {\r\n    this.authService = this.injectorObj.get(AUTH_SERVICE);\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  doSomething() {\r\n    alert('Hey it worked!');\r\n  }\r\n\r\n  hasAccess() {\r\n    return this.permission\r\n      ? this.authService.hasPermission(this.permission)\r\n      : true;\r\n  }\r\n\r\n  collapse() {\r\n    this.collapsible2.nativeElement.classList.add('hidden');\r\n    this.collapsed = true;\r\n  }\r\n  expand() {\r\n    this.collapsible2.nativeElement.classList.remove('hidden');\r\n    this.collapsed = false;\r\n  }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { SearchTemplate } from '../model/search-template.model';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SearchTemplateAPIService {\r\n  private readonly baseUrl: string = './portal-api/v1/searchTemplates';\r\n\r\n  private readonly httpOptions: { [key: string]: any } = {\r\n    headers: new HttpHeaders({\r\n      'Content-Type': 'application/json',\r\n      Accept: 'application/json'\r\n    })\r\n  };\r\n\r\n  constructor(private httpClient: HttpClient) {}\r\n\r\n  getSearchTemplatesLegacy(\r\n    user: string,\r\n    application: string,\r\n    page: string,\r\n    includeGlobal = true\r\n  ): Observable<SearchTemplate[]> {\r\n    return this.httpClient.post<SearchTemplate[]>(\r\n      `${this.baseUrl}/search/criteria`,\r\n      {\r\n        application,\r\n        page,\r\n        user,\r\n        includeGlobal\r\n      },\r\n      this.httpOptions\r\n    );\r\n  }\r\n\r\n  getTemplateById(id: string): Observable<SearchTemplate> {\r\n    return this.httpClient.get<SearchTemplate>(\r\n      `${this.baseUrl}/${id}`,\r\n      this.httpOptions\r\n    );\r\n  }\r\n\r\n  createNewTemplate(template: SearchTemplate): Observable<SearchTemplate> {\r\n    return this.httpClient.post<SearchTemplate>(\r\n      `${this.baseUrl}`,\r\n      template,\r\n      this.httpOptions\r\n    );\r\n  }\r\n\r\n  updateTemplate(\r\n    id: string,\r\n    template: SearchTemplate\r\n  ): Observable<SearchTemplate> {\r\n    return this.httpClient.put<SearchTemplate>(\r\n      `${this.baseUrl}/${id}`,\r\n      template,\r\n      this.httpOptions\r\n    );\r\n  }\r\n\r\n  deleteTemplate(id: string): Observable<boolean> {\r\n    return this.httpClient.delete<boolean>(`${this.baseUrl}/${id}`);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { stringify } from 'querystring';\nimport { HelpData } from '../model/help-data.model';\nimport { Observable } from 'rxjs';\nimport { map, tap } from 'rxjs/operators';\n\nconst baseUrl = './ahm-api/internal/applications';\n\n@Injectable({ providedIn: 'root' })\nexport class HelpPageAPIService {\n  httpOptions = {\n    headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n  };\n  constructor(private httpClient: HttpClient) {}\n\n  getHelpDataItem(\n    appId: string,\n    helpItemId: string,\n    type = 'PAGE'\n  ): Observable<HelpData> {\n    return this.httpClient\n      .get<HelpData[]>(`${baseUrl}/${appId}/helpItems`, {\n        params: {\n          helpItemId\n        }\n      })\n      .pipe(map(helpItems => helpItems[0]));\n  }\n\n  getHelpDataItemLegacy(\n    appId: string,\n    context: string,\n    type = 'PAGE'\n  ): Observable<HelpData> {\n    console.log(\n      `About to go to ${baseUrl}/helpdata/${appId}/${encodeURIComponent(\n        context\n      )}`\n    );\n    return this.httpClient.post<HelpData>(\n      `${baseUrl}/helpdata/${appId}/${encodeURIComponent(context)}`,\n      `\"${type}\"`,\n      {\n        headers: {\n          'Content-Type': 'application/v1+json',\n          Accept: 'application/v1+json'\n        }\n      }\n    );\n  }\n\n  saveHelpPage(\n    appId: string,\n    helpItem: HelpData\n  ): Observable<HttpResponse<any>> {\n    if (helpItem.id) {\n      return this.httpClient.patch(\n        `${baseUrl}/${appId}/helpItems/${helpItem.id}`,\n        helpItem,\n        {\n          observe: 'response'\n        }\n      );\n    } else {\n      return this.httpClient.post(`${baseUrl}/${appId}/helpItems`, helpItem, {\n        observe: 'response'\n      });\n    }\n  }\n\n  saveHelpPageLegacy(helpItem: HelpData): Observable<HttpResponse<any>> {\n    return this.httpClient.post(`${baseUrl}/helpdata`, helpItem, {\n      headers: {\n        'Content-Type': 'application/v1+json',\n        Accept: 'application/v1+json'\n      },\n      observe: 'response'\n    });\n  }\n}\n","export interface PortalPage {\r\n  helpArticleId: string;\r\n}\r\n\r\nexport function isTkitPage(object: any): object is PortalPage {\r\n  return 'helpArticleId' in object;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ConfigurationService } from '../configuration.service';\r\n\r\nconst defaultThemeServerUrl = 'http://portal-theme-management:8080';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ThemeService {\r\n  themeServerUrl: string;\r\n\r\n  constructor(private configservice: ConfigurationService) {\r\n    this.themeServerUrl =\r\n      this.configservice.getProperty('TKIT_PORTAL_THEME_SERVER_URL') ||\r\n      defaultThemeServerUrl;\r\n  }\r\n\r\n  getThemeHref(theme: string): string {\r\n    return `${this.themeServerUrl}/themes/${theme}/${theme}.min.css`;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core'\nimport { HttpClient, HttpHeaders } from '@angular/common/http'\nimport { Observable, of } from 'rxjs'\nimport { catchError, tap } from 'rxjs/operators'\nimport { PortalMenuItem } from '../model/menu-item.model'\nimport { MessageService } from 'primeng/api'\nimport { withCache } from '@ngneat/cashew'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MenuApiService {\n  private menuUrl = './portal-api/legacy/menustructure' // URL to web api\n\n  httpOptions = {\n    headers: new HttpHeaders({ 'Content-Type': 'application/json' }),\n  }\n\n  constructor(private http: HttpClient, private messageService: MessageService) {}\n\n  getMenuItems(portalId: String): Observable<PortalMenuItem[]> {\n    return this.http\n      .get<PortalMenuItem[]>(`${this.menuUrl}/${portalId}`, withCache())\n      .pipe(catchError(this.handleError<PortalMenuItem[]>('getMenuItems', [])))\n  }\n\n  /**\n   * Handle Http operation that failed.\n   * Let the app continue.\n   * @param operation - name of the operation that failed\n   * @param result - optional value to return as the observable result\n   */\n  private handleError<T>(operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n      // TODO: send the error to remote logging infrastructure\n      console.error(error) // log to console instead\n\n      // TODO: better job of transforming error for user consumption\n      this.log(`${operation} failed: ${error.message}, will return ${JSON.stringify(result)}`)\n\n      // Let the app keep running by returning an empty result.\n      return of(result as T)\n    }\n  }\n\n  /** Log a HeroService message with the MessageService */\n  private log(message: string) {\n    console.log(message)\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { FeedbackDTO } from '../model/feedback.model';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({ providedIn: 'root' })\nexport class FeedbackApiService {\n  url = './portal-api/v1/feedback/send';\n\n  constructor(private http: HttpClient) {}\n\n  public sendFeedback(feedback: FeedbackDTO) {\n    return this.http.post(this.url, feedback);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { SupportTicket } from '../model/support-ticket.model';\nimport {\n  CreateIssueRequest,\n  IssueType\n} from '../model/create-issue-request.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SupportTicketApiService {\n  private baseUrl = './portal-api/v1/supportTicket/send';\n\n  constructor(private http: HttpClient) {}\n\n  createSupportTicket(ticket: SupportTicket, appId: string) {\n    const request: CreateIssueRequest = {\n      processId: ticket.title,\n      processStep: ticket.description,\n      source: appId,\n      sourceDeepLink: window.location.href\n    };\n\n    return this.http.post(this.baseUrl, request);\n  }\n}\n","import {\n  Component,\n  AfterViewInit,\n  OnInit,\n  ViewChild,\n  ElementRef,\n  Renderer2,\n  NgZone,\n  Input,\n  Inject,\n} from '@angular/core'\nimport { ScrollPanel } from 'primeng/scrollpanel'\nimport {\n  NavigationStart,\n  NavigationEnd,\n  NavigationError,\n  Router,\n  Event,\n  ActivatedRoute,\n  ActivationEnd,\n} from '@angular/router'\nimport { HelpPageAPIService } from '../../../api/services/help-page-api.service'\nimport { MessageService, MenuItem, PrimeNGConfig } from 'primeng/api'\nimport { DialogService } from 'primeng/dynamicdialog'\nimport { HelpData, PortalMenuItem } from '../../../api/model'\nimport { NoHelpInfoComponent } from '../no-help-info/no-help-info.component'\nimport { isTkitPage } from '../../pages/PortalPage'\nimport { TranslateService } from '@ngx-translate/core'\nimport { ConfigurationService } from '../../../api/configuration.service'\nimport { ThemeService } from '../../../api/services/theme.service'\nimport { MenuApiService } from '../../../api/services/menu-api.service'\nimport { AUTH_SERVICE } from '../../../api/injection-tokens'\nimport { IAuthService } from '../../../api/iauth.service'\nimport { CONFIG_KEY_TKIT_PORTAL_DISABLE_THEME_MANAGEMENT } from '../../constants'\nimport { Portal } from '../../../api/model/portal'\nimport { OverlayPanel } from 'primeng/overlaypanel'\nimport { BreakpointObserver } from '@angular/cdk/layout'\nimport { FeedbackBasic, FeedbackDTO } from '../../../api/model/feedback.model'\nimport { FeedbackApiService } from '../../../api/services/feedback-api.service'\nimport { SupportTicket } from '../../../api/model/support-ticket.model'\nimport { SupportTicketApiService } from '../../../api/services/support-ticket-api.service'\nimport { MenuService } from \"../../../api/services/menu.service\";\n\nenum MenuOrientation {\n  STATIC,\n  OVERLAY,\n  SLIM,\n  HORIZONTAL,\n}\nconst FALLBACK_THEME_URL = './portal-lib/assets/css/fallback-theme/fallback.css'\nconst DEFAULT_BASE_URL = 'https://1000kit.atlassian.net/wiki/spaces/1000KIT/overview'\n\n@Component({\n  selector: 'tk-portal-viewport',\n  templateUrl: './portal-viewport.component.html',\n  styles: [\n    `\n      .loading-block {\n      }\n    `,\n  ],\n})\nexport class PortalViewportComponent implements AfterViewInit, OnInit {\n\n  @Input()\n  showProfileInSidebar = true\n\n  @Input()\n  enableBreadcrumbs = false\n\n  @Input()\n  fullPortalLayout = true\n\n  // TKIT\n  helpPageEditorDisplayed = false\n  addToFavouritesDisplayed = false\n  supportTicketDisplayed = false\n  currentComponent: any\n  feedbackData: FeedbackBasic = { comment: '', rating: 0, anonymous: false }\n  feedbackVisible = false\n  feedbackSubmitDisabled = false\n\n  @Input()\n  appName: string\n\n  @Input()\n  portalName = 'PORTAL'\n\n  appVersion: string\n\n  isBodyCompact: boolean\n  helpDataItem: HelpData\n  helpArticleId: string\n  sideBarColorTheme: string\n\n  // PRIMENG STUFF\n  layoutMode: MenuOrientation = MenuOrientation.STATIC\n\n  // TODO Ultima11: dark menu\n  darkMenu = false\n\n  profileMode = 'top'\n\n  menuActive: boolean\n\n  mobileMenuActive: boolean\n\n  inlineMenuActive: boolean\n\n  menuClick: boolean\n\n  inlineMenuClick: boolean\n\n  staticMenuDesktopInactive: boolean\n\n  mobileTopbarActive: boolean\n\n  showMenuButtonTitle: string\n\n  hideMenuButtonTitle: string\n\n  topbarItemClick: boolean\n\n  activeTopbarItem: any\n\n  resetMenu: boolean\n\n  menuHoverActive: boolean\n\n  searchClick = false;\n\n  search = false;\n\n  documentClickListener: () => void\n\n  @ViewChild('layoutContainer')\n  layoutContainerViewChild: ElementRef\n\n  @ViewChild('scrollPanel')\n  layoutMenuScrollerViewChild: ScrollPanel\n\n  @ViewChild('feedbackPanel')\n  feedbackPanel: OverlayPanel\n\n  preloader = true\n  portalMenuItems: MenuItem[]\n  lang: string\n  portalHomeMenuItem: MenuItem = { url: '/', label: 'Home' }\n  initError: any\n\n  mainPortal: Portal\n\n  get menuButtonTitle(): string {\n    return (\n        this.isDesktop() && this.menuActive || this.isMobile() && this.mobileMenuActive\n    ) ? this.hideMenuButtonTitle : this.showMenuButtonTitle;\n  }\n\n  constructor(\n    public renderer2: Renderer2,\n    public zone: NgZone,\n    private router: Router,\n    private route: ActivatedRoute,\n    private helpDataService: HelpPageAPIService,\n    private messageService: MessageService,\n    private dialogService: DialogService,\n    private breakpointObserver: BreakpointObserver,\n    private translate: TranslateService,\n    private themeService: ThemeService,\n    private menuService: MenuService,\n    private menuApiService: MenuApiService,\n    private configService: ConfigurationService,\n    private feedbackApiService: FeedbackApiService,\n    private supportTicketApiService: SupportTicketApiService,\n    private primeNgConfig: PrimeNGConfig,\n    @Inject(AUTH_SERVICE) private auth: IAuthService\n  ) {}\n\n  applyPadding() {\n    if (this.isBodyCompact) {\n      this.addClass(document.body, 'compact')\n    } else {\n      this.removeClass(document.body, 'compact')\n    }\n  }\n\n  setSidebarColorTheme() {\n    if (this.sideBarColorTheme === 'DARK') {\n      this.darkMenu = true\n    } else if (this.sideBarColorTheme === 'LIGHT') {\n      this.darkMenu = false\n    }\n  }\n\n  ngOnInit() {\n    this.primeNgConfig.ripple = true\n    this.initError = this.configService.error\n    if (this.initError) {\n      this.preloader = false\n      return\n    }\n    this.mainPortal = this.configService.getPortalData()\n    if (this.auth.currentUser().accountSettings.layoutAndThemeSettings) {\n      this.isBodyCompact = this.auth.currentUser().accountSettings.layoutAndThemeSettings.compactView ?? false\n      this.applyPadding()\n      // this.sideBarColorTheme = this.auth.currentUser().accountSettings.layoutAndThemeSettings.menuTheme ?? 'LIGHT'\n      if (this.auth.currentUser().accountSettings.layoutAndThemeSettings.sidebarViewMode) {\n        this.layoutMode =\n          MenuOrientation[this.auth.currentUser().accountSettings.layoutAndThemeSettings.sidebarViewMode]\n      } else {\n        this.layoutMode = MenuOrientation['STATIC']\n      }\n    }\n\n    this.menuActive = this.isStatic() && !this.isMobile() && this.fullPortalLayout;\n\n    this.validateRequiredInputs()\n\n    this.setSidebarColorTheme()\n    this.setCustomTheme()\n\n    if (this.fullPortalLayout) {\n      this.loadMenuItems()\n    }\n\n    this.router.events.subscribe((event: Event) => {\n      // console.log(`nav event ${event.constructor.name}`);\n      if (event instanceof NavigationStart) {\n        // Show loading indicator\n      }\n\n      if (event instanceof ActivationEnd) {\n        // this.helpArticleId = event.snapshot.pathFromRoot\n        //   .map(i => (i.routeConfig ? i.routeConfig.path : ''))\n        //   .join('/');\n        // console.log(`aftger event ${this.helpArticleId}`);\n      }\n\n      if (event instanceof NavigationEnd && this.fullPortalLayout) {\n        // Hide loading indicator\n\n        if (this.currentComponent) {\n          let helpPageIdentifier\n          if (isTkitPage(this.currentComponent)) {\n            helpPageIdentifier = this.currentComponent.helpArticleId\n          } else {\n            helpPageIdentifier = event.url || this.currentComponent.constructor.name\n            console.log(`Page does not have helpItemId, using router path ${helpPageIdentifier}`)\n          }\n          this.helpArticleId = helpPageIdentifier\n          this.helpDataItem = {\n            helpItemId: helpPageIdentifier,\n            appId: this.appName,\n            baseUrl: DEFAULT_BASE_URL,\n            resourceUrl: '',\n          }\n          this.loadHelpArticle()\n        }\n      }\n\n      if (event instanceof NavigationError) {\n        // Hide loading indicator\n\n        // Present error to user\n        this.messageService.add({\n          severity: 'error',\n          summary: 'Navigation error',\n          detail: `Route ${event.url} not recognized`,\n        })\n      }\n      // console.log(`navigate event ${event}`);\n      this.setSidebarColorTheme()\n    })\n\n    this.translate.get(['GENERAL.SHOW_MENU', 'GENERAL.HIDE_MENU']).subscribe(text => {\n        this.hideMenuButtonTitle = text['GENERAL.HIDE_MENU']\n        this.showMenuButtonTitle = text['GENERAL.SHOW_MENU']\n    })\n  }\n\n  ngAfterViewInit() {\n    this.documentClickListener = this.renderer2.listen('body', 'click', () => {\n      if (!this.topbarItemClick) {\n        this.activeTopbarItem = null;\n      }\n\n      if (!this.menuClick && (this.isHorizontal() || this.isSlim())) {\n        this.menuService.reset();\n      }\n\n      if (!this.menuClick) {\n        if (this.mobileMenuActive) {\n          this.mobileMenuActive = false;\n        }\n\n        if (this.isOverlay()) {\n          this.menuActive = false;\n        }\n\n        this.menuHoverActive = false;\n        this.unblockBodyScroll();\n      }\n\n      if (!this.searchClick) {\n        this.search = false;\n      }\n\n      if (this.inlineMenuActive && !this.inlineMenuClick) {\n        this.inlineMenuActive = false;\n      }\n\n      this.inlineMenuClick = false;\n      this.searchClick = false;\n      this.topbarItemClick = false;\n      this.menuClick = false;\n    });\n  }\n\n  loadMenuItems() {\n    const portalId = this.configService.getProperty('TKIT_PORTAL_ID')\n    const stripForbiddenStr = this.configService.getProperty('TKIT_PORTAL_DISABLE_MENU_PERMISSIONS')\n    const stripForbidden = stripForbiddenStr === 'true'\n    this.configService.lang$.subscribe(data => (this.lang = data)).unsubscribe()\n\n    if (!portalId) {\n      this.portalMenuItems = [{ label: 'Failed to load menu', icon: 'dashboard', routerLink: ['/'] }]\n    } else if (this.fullPortalLayout) {\n      this.menuApiService.getMenuItems(portalId).subscribe(data => {\n        let serverMenuItems: MenuItem[] = []\n        const mainMenuItem = data.find(item => item.key === 'PORTAL_MAIN_MENU')\n        this.portalHomeMenuItem = this.toPrimeNGMenuItem(data.find(item => item.key === 'PORTAL_MENU_HOME'))\n        if (!this.portalHomeMenuItem) {\n          this.portalHomeMenuItem = { url: '/', label: 'Home' }\n        }\n        if (mainMenuItem) {\n          serverMenuItems = mainMenuItem.children\n            .filter(\n              item => (!stripForbidden || this.auth.hasPermission(`${item.permissionObject}#VIEW`)) && !item.disabled\n            )\n            .sort((a: PortalMenuItem, b: PortalMenuItem) => a.position - b.position)\n            .map(item => this.toPrimeNGMenuItem(item))\n        }\n        this.portalMenuItems = [\n          // { label: 'Portal Home', icon: 'dashboard', routerLink: ['/'] },\n          ...serverMenuItems,\n        ]\n      })\n    }\n  }\n\n  private toPrimeNGMenuItem(item: PortalMenuItem, level = 1): MenuItem {\n    if (!item) {\n      return undefined\n    }\n    let isAbsoluteLink = item.url && item.url.match(/^(http|https)/g) !== null\n    const currentHost = document.getElementsByTagName('base')[0].href\n    let routerLink = undefined\n    const label = item.i18n[this.lang] || item.name\n    if (this.appName === item.applicationId) {\n      // it is a local link, set routerlink\n      if (isAbsoluteLink && item.url.includes(currentHost)) {\n        routerLink = [item.url.substr(currentHost.length - 1)]\n        isAbsoluteLink = false\n      } else {\n        const path = currentHost.substring(window.location.origin.length)\n        if (path.length >= 1 && item.url.startsWith(path)) {\n          // its a link within same  path\n          routerLink = [item.url.substr(path.length - 1)]\n          isAbsoluteLink = false\n        }\n      }\n    }\n    let badgeIcon = level === 1 ? 'menu' : 'subject'\n    if (item.badge !== '' && item.badge) {\n      badgeIcon = item.badge\n    }\n    return {\n      label,\n      // badge: '',\n      icon: badgeIcon,\n      command: e => {\n        e.originalEvent.preventDefault()\n        if (item.children.length === 0) {\n          item.portalExit\n            ? window.open(item.url, '_blank')\n            : routerLink\n            ? this.router.navigate(routerLink)\n            : window.location.assign(item.url)\n        }\n      },\n      url: item.url,\n      routerLinkActiveOptions: [{ exact: false }],\n      items:\n        item.children.length > 0\n          ? item.children\n              .filter(child => !child.disabled)\n              .sort((a: PortalMenuItem, b: PortalMenuItem) => a.position - b.position)\n              .map(child => this.toPrimeNGMenuItem(child, level + 1))\n          : undefined,\n    }\n  }\n\n  validateRequiredInputs() {\n    if (!this.appName) {\n      throw new Error(`You must specify [appName] attribute on <tk-portal-viewport> component.`)\n    }\n  }\n\n  loadHelpArticle() {\n    this.helpDataService.getHelpDataItem(this.appName, this.helpArticleId).subscribe(\n      data => {\n        if (data) {\n          this.helpDataItem = data\n        }\n      },\n      error => console.log('Failed to load help article')\n    )\n  }\n\n  public onHelpArticleEditorClosed(changed: boolean) {\n    if (changed) {\n      this.helpDataService.saveHelpPage(this.appName, this.helpDataItem).subscribe(\n        res => {\n          console.log(`Help item saved: ${res.status}`)\n          this.helpPageEditorDisplayed = false\n\n          this.messageService.add({\n            severity: 'info',\n            summary: 'Help Item definition updated',\n          })\n          this.loadHelpArticle()\n        },\n        error => {\n          console.log(`Could not save help item`)\n          this.messageService.add({\n            severity: 'error',\n            summary: 'Help Item definition update failed',\n            detail: `Server error: ${error.status}`,\n          })\n        }\n      )\n    } else {\n      this.helpPageEditorDisplayed = false\n    }\n  }\n\n  public onAddToLaunchpadClosed(event) {\n    this.addToFavouritesDisplayed = false\n  }\n\n  public openHelpPage(event) {\n    if (this.helpDataItem.id) {\n      const url = this.helpDataItem.baseUrl\n        ? `${this.helpDataItem.baseUrl}/${this.helpDataItem.resourceUrl}`\n        : this.helpDataItem.resourceUrl\n      console.log(`navigate to help page: ${url}`)\n      const win = window.open(url, '_blank')\n      win.focus()\n    } else {\n      this.dialogService.open(NoHelpInfoComponent, {\n        header: 'No help item defined for this page',\n        width: '400px',\n        data: {\n          pageItem: this.helpArticleId,\n        },\n      })\n    }\n    event.preventDefault()\n  }\n\n  public openHelpPageEditor(event) {\n    this.helpPageEditorDisplayed = true\n    event.preventDefault()\n  }\n\n  public openFeedback(event) {\n    if (this.breakpointObserver.isMatched('(max-width: 1024px)')) {\n      this.feedbackVisible = true\n    } else {\n      this.feedbackPanel.toggle(event)\n    }\n    event.preventDefault()\n  }\n\n  public openAddToLaunchpad(event) {\n    this.addToFavouritesDisplayed = true\n    event.preventDefault()\n  }\n\n  public openSupportTicket(event) {\n    this.supportTicketDisplayed = true\n    event.preventDefault()\n  }\n\n  public onSubmitFeedback(feedback: FeedbackBasic) {\n    this.feedbackSubmitDisabled = true\n    const feedbackDTO: FeedbackDTO = {\n      rating: feedback.rating,\n      comment: feedback.comment,\n      appId: this.appName,\n      userId: feedback.anonymous ? 'anonymous' : this.auth.currentUser().userId,\n    }\n    this.feedbackApiService.sendFeedback(feedbackDTO).subscribe(\n      () => {\n        this.closeFeedback()\n        this.messageService.add({\n          severity: 'success',\n          summary: 'Feedback successfully sent',\n        })\n      },\n      () => {\n        this.closeFeedback()\n        this.messageService.add({\n          severity: 'error',\n          summary: 'Sending feedback failed',\n          detail: 'Please try again later',\n        })\n      }\n    )\n  }\n\n  closeFeedback() {\n    this.feedbackSubmitDisabled = false\n    this.feedbackVisible = false\n    this.feedbackPanel.hide()\n  }\n\n  public onSubmitTicket(ticket: SupportTicket) {\n    this.supportTicketApiService.createSupportTicket(ticket, this.appName).subscribe(\n      () => {\n        this.messageService.add({\n          severity: 'success',\n          summary: 'Success!',\n          detail: 'Ticket successfully submitted',\n        })\n      },\n      () =>\n        this.messageService.add({\n          severity: 'error',\n          summary: 'Error!',\n          detail: 'Error occured while submitting a ticket',\n        })\n    )\n  }\n\n  public clearFeedback() {\n    this.feedbackData = { comment: '', rating: 0, anonymous: false }\n  }\n\n  addClass(element, className) {\n    if (element.classList) {\n      element.classList.add(className)\n    } else {\n      element.className += ' ' + className\n    }\n  }\n\n  removeClass(element, className) {\n    if (element.classList) {\n      element.classList.remove(className)\n    } else {\n      element.className = element.className.replace(\n          new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'),\n          ' '\n      )\n    }\n  }\n\n  onMenuButtonClick(event) {\n    this.menuActive = !this.menuActive;\n    this.menuClick = true;\n\n    if (!this.isDesktop()) {\n      this.mobileMenuActive = !this.mobileMenuActive;\n      if (this.mobileMenuActive) {\n        this.blockBodyScroll();\n      } else {\n        this.unblockBodyScroll();\n      }\n    }\n\n    event.preventDefault()\n  }\n\n  onMenuClick($event) {\n    this.menuClick = true\n\n    if (this.inlineMenuActive && !this.inlineMenuClick) {\n      this.inlineMenuActive = false;\n    }\n  }\n\n  onInlineMenuClick(event) {\n    this.inlineMenuActive = !this.inlineMenuActive;\n    this.inlineMenuClick = true;\n  }\n\n  onTopbarMobileButtonClick(event) {\n    this.mobileTopbarActive = !this.mobileTopbarActive\n    event.preventDefault()\n  }\n\n  onTopbarItemClick(event, item) {\n    this.topbarItemClick = true\n\n    if (this.activeTopbarItem === item) {\n      this.activeTopbarItem = null\n    } else {\n      this.activeTopbarItem = item\n    }\n\n    if (item === 'search') {\n      this.search = !this.search;\n      this.searchClick = !this.searchClick;\n    }\n\n    event.preventDefault()\n  }\n\n  onSearchClick(event, val: boolean) {\n    this.searchClick = val\n    this.search = val\n    event.preventDefault()\n  }\n\n  isDesktop() {\n    return window.innerWidth > 991\n  }\n\n  isMobile() {\n    return window.innerWidth <= 991\n  }\n\n  isStatic() {\n    return this.layoutMode === MenuOrientation.STATIC\n  }\n\n  isOverlay() {\n    return this.layoutMode === MenuOrientation.OVERLAY\n  }\n\n  isHorizontal() {\n    return this.layoutMode === MenuOrientation.HORIZONTAL\n  }\n\n  isSlim() {\n    return this.layoutMode === MenuOrientation.SLIM\n  }\n\n  changeToStaticMenu() {\n    this.layoutMode = MenuOrientation.STATIC\n  }\n\n  changeToOverlayMenu() {\n    this.layoutMode = MenuOrientation.OVERLAY\n  }\n\n  changeToHorizontalMenu() {\n    this.layoutMode = MenuOrientation.HORIZONTAL\n  }\n\n  changeToSlimMenu() {\n    this.layoutMode = MenuOrientation.SLIM\n  }\n\n  blockBodyScroll(): void {\n    if (document.body.classList) {\n      document.body.classList.add('blocked-scroll');\n    } else {\n      document.body.className += ' blocked-scroll';\n    }\n  }\n\n  unblockBodyScroll(): void {\n    if (document.body.classList) {\n      document.body.classList.remove('blocked-scroll');\n    } else {\n      document.body.className = document.body.className.replace(new RegExp('(^|\\\\b)' +\n          'blocked-scroll'.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    }\n  }\n\n  private setCustomTheme() {\n    const disablePortalThemeMgmt =\n      this.configService.getProperty(CONFIG_KEY_TKIT_PORTAL_DISABLE_THEME_MANAGEMENT) === 'true'\n    if (disablePortalThemeMgmt) {\n      console.log(\n        `Portal theme mgmt is disabled. To enable it, remove env var: ${CONFIG_KEY_TKIT_PORTAL_DISABLE_THEME_MANAGEMENT}`\n      )\n      this.preloader = false\n      return\n    }\n    console.log(`Setting theme dynamically`)\n    let customTheme = this.configService.getPortalData() && this.configService.getPortalData().themeName\n\n    if (!customTheme) {\n      const themeFromEnv = this.configService.getProperty('TKIT_PORTAL_DEFAULT_THEME')\n      if (!themeFromEnv) {\n        console.log(`Custom theme not defined, or portal data not available, setting default theme CG`)\n        customTheme = 'cg'\n      } else {\n        console.log(\n          `Custom theme not defined, or portal data not available, setting theme from 'TKIT_PORTAL_DEFAULT_THEME' var: ${themeFromEnv} `\n        )\n        customTheme = themeFromEnv\n      }\n    }\n\n    if (document.getElementById('theme-css')) {\n      const themeLinkToRemove: HTMLElement = document.getElementById('theme-css')\n      themeLinkToRemove.remove()\n    }\n    const themeLink = document.createElement('link')\n    themeLink.setAttribute('id', 'theme-css')\n    themeLink.setAttribute('rel', 'stylesheet')\n    themeLink.setAttribute('type', 'text/css')\n    themeLink.onload = () => {\n      console.log('theme load done')\n      this.preloader = false\n    }\n    themeLink.onerror = () => {\n      console.log(`Failed to load theme assets for '${customTheme}'`)\n      themeLink.setAttribute('href', FALLBACK_THEME_URL)\n      this.preloader = false\n    }\n    themeLink.setAttribute('href', this.themeService.getThemeHref(customTheme))\n    document.getElementsByTagName('head')[0].appendChild(themeLink)\n  }\n}\n","import { Injectable, OnInit } from '@angular/core';\nimport { Observable, isObservable } from 'rxjs';\n\n@Injectable()\nexport abstract class PortalSearchPage<T, C> implements OnInit {\n  searchInProgress: boolean;\n  public results: T[];\n\n  public criteria: C;\n  abstract doSearch(): T[] | Observable<T[]>;\n  abstract getDefaultCriteria(): C;\n\n  search() {\n    this.searchInProgress = true;\n    const resultIntermediate = this.doSearch();\n    if (isObservable(resultIntermediate)) {\n      resultIntermediate.subscribe(data => {\n        this.results = data;\n        this.searchInProgress = false;\n      });\n    } else {\n      this.results = resultIntermediate;\n      this.searchInProgress = false;\n    }\n  }\n\n  reset() {\n    this.results = [];\n    this.criteria = this.getDefaultCriteria();\n  }\n\n  ngOnInit() {\n    this.reset();\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  Injector,\n  Input,\n  Output,\n  Inject,\n  Optional,\n  SkipSelf\n} from '@angular/core';\nimport { SelectItem } from 'primeng/api';\nimport { MessageService } from 'primeng/api';\nimport { SearchTemplate } from '../../../api/model/search-template.model';\nimport { PortalPageComponent } from '../portal-page/portal-page.component';\nimport { SearchTemplateAPIService } from '../../../api/services/search-template-api.service';\nimport { AUTH_SERVICE } from '../../../api/injection-tokens';\nimport { IAuthService } from '../../../api/iauth.service';\nimport { PortalViewportComponent } from '../portal-viewport/portal-viewport.component';\nimport { PortalSearchPage } from '../../pages/PortalSearchPage';\n\nconst reISO = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*))(?:Z|(\\+|-)([\\d|:]*))?$/;\nconst dateReviver = function(key, value) {\n  if (typeof value === 'string') {\n    const a = reISO.exec(value);\n    if (a) {\n      return new Date(value);\n    }\n  }\n  return value;\n};\n@Component({\n  selector: 'tk-portal-search-page',\n  templateUrl: './portal-search-page.component.html',\n  styleUrls: ['./portal-search-page.component.scss']\n})\nexport class PortalSearchPageComponent extends PortalPageComponent {\n  @Input() searchCriteriaTemplatesEnabled = true;\n  @Input() enableSearchToolbar = false;\n  @Output() onSearch: EventEmitter<any> = new EventEmitter();\n  activeSearchTemplate: SearchTemplate;\n  activeSearchTemplateId: string;\n\n  @Input()\n  private pageName: string;\n\n  searchTemplateOptions: SelectItem[];\n\n  newTemplateName: string;\n  newTemplateDefaultFlag = false;\n\n  constructor(\n    injectorChild: Injector,\n    private messageService: MessageService,\n    private searchTemplateApi: SearchTemplateAPIService,\n    @Inject(AUTH_SERVICE) private auth: IAuthService,\n    private viewPort: PortalViewportComponent,\n    @SkipSelf() @Optional() public searchPage: PortalSearchPage<any, any>\n  ) {\n    super(injectorChild);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.validatedInputs();\n    if (this.pageName) {\n      this.fetchSearchTemplates();\n    }\n  }\n\n  onSearchTemplateSelection(event: any) {\n    if (event.value) {\n      this.activeSearchTemplateId = event.value;\n      this.searchTemplateApi\n        .getTemplateById(this.activeSearchTemplateId)\n        .subscribe(template => {\n          this.activeSearchTemplate = template;\n          // TODO allow override\n          this.searchPage.criteria = JSON.parse(\n            template.criteriaAsJson,\n            dateReviver\n          );\n        });\n    } else {\n      this.activeSearchTemplateId = null;\n      this.activeSearchTemplate = null;\n    }\n  }\n\n  private fetchSearchTemplates() {\n    this.searchTemplateApi\n      .getSearchTemplatesLegacy(\n        this.auth.currentUser().userId,\n        this.viewPort.appName,\n        this.pageName\n      )\n      .subscribe(templates => {\n        this.searchTemplateOptions = [\n          { value: null, label: 'Pick saved template' },\n          ...templates.map(t => ({ label: t.name, value: t.id }))\n        ];\n\n        // if a default template exists preselect it\n        const defaultTemplate = templates.find(t => t.defaultTemplate);\n        if (defaultTemplate) {\n          this.onSearchTemplateSelection({ value: defaultTemplate.id });\n        }\n      });\n  }\n\n  validatedInputs() {\n    if (!this.searchPage) {\n      console.error(\n        `<tk-search-page> can only be used in a component that extends \"PortalSearchPage\". See README.MD chapter #Generic Search Page`\n      );\n    }\n    if (!this.pageName) {\n      console.warn(\n        `You did not specify [pageName] attribute for search page component. Without it, some features will not work.`\n      );\n    }\n  }\n\n  triggerSearch() {\n    console.log(`Click search`);\n    this.onSearch.emit(1);\n  }\n\n  triggerCriteriaTemplateUpdate() {\n    console.log('update tempalte');\n    this.activeSearchTemplate.criteriaAsJson = JSON.stringify(\n      this.searchPage.criteria\n    );\n    this.searchTemplateApi\n      .updateTemplate(this.activeSearchTemplateId, this.activeSearchTemplate)\n      .subscribe(savedTemplate => {\n        this.activeSearchTemplate = savedTemplate;\n        this.messageService.add({\n          severity: 'success',\n          summary: 'Search template updated'\n        });\n      });\n  }\n\n  triggerCriteriaTemplateSave(event: Event, op: any) {\n    this.searchTemplateApi\n      .createNewTemplate({\n        application: this.viewPort.appName,\n        page: this.pageName,\n        user: this.auth.currentUser().userId,\n        name: this.newTemplateName,\n        defaultTemplate: this.newTemplateDefaultFlag,\n        criteriaAsJson: JSON.stringify(this.searchPage.criteria)\n      })\n      .subscribe(savedTemplate => {\n        this.activeSearchTemplate = savedTemplate;\n        this.searchTemplateOptions.push({\n          label: savedTemplate.name,\n          value: savedTemplate.id\n        });\n        this.activeSearchTemplateId = savedTemplate.id;\n        op.hide();\n        this.newTemplateDefaultFlag = false;\n        this.newTemplateName = undefined;\n        this.messageService.add({\n          severity: 'success',\n          summary: 'Search template saved'\n        });\n      });\n  }\n  triggerCriteriaTemplateDelete() {\n    this.searchTemplateApi\n      .deleteTemplate(this.activeSearchTemplateId)\n      .subscribe(ok => {\n        this.messageService.add({\n          severity: 'info',\n          summary: 'Search template deleted'\n        });\n\n        this.searchTemplateOptions.splice(\n          this.searchTemplateOptions.findIndex(\n            i => i.value == this.activeSearchTemplateId\n          ),\n          1\n        );\n        this.activeSearchTemplateId = undefined;\n        this.activeSearchTemplate = undefined;\n      });\n  }\n}\n","import { Directive, Input, Renderer2, ElementRef, Inject, ViewContainerRef, TemplateRef, OnInit } from '@angular/core';\r\nimport { IAuthService } from '../../api/iauth.service';\r\nimport { AUTH_SERVICE } from '../../api/injection-tokens';\r\n\r\n@Directive({ selector: '[tkIfPerm]' })\r\nexport class TkIfPermDirective implements OnInit {\r\n  permission: string;\r\n  @Input() loaderState: boolean;\r\n  constructor(\r\n    private templateRef: TemplateRef<any>,\r\n    private viewContainer: ViewContainerRef,\r\n    @Inject(AUTH_SERVICE) private authService: IAuthService\r\n  ) {}\r\n\r\n  @Input()\r\n  set tkIfPerm(permission: string) {\r\n    this.permission = permission;\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.authService.hasPermission(this.permission)) {\r\n      console.log(`Hide element because no perm ${this.permission}`);\r\n      this.viewContainer.clear();\r\n    } else {\r\n      this.viewContainer.createEmbeddedView(this.templateRef);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\n// TODO is <a> without click actually OK? How about a11y?\n@Component({\n  selector: 'tk-toolbar-item',\n  template: `\n    <a\n      pRipple\n      *ngIf=\"link\"\n      class=\"toolbar-item\"\n      [href]=\"link\"\n      [target]=\"linkTarget\"\n      [rel]=\"linkRel\"\n      title=\"{{ title }}\"\n      role=\"button\"\n      ><i class=\"pi pi-{{icon}}\"></i>\n    </a>\n    <a\n      pRipple\n      *ngIf=\"!link\"\n      href=\"javascript:void(0)\"\n      class=\"toolbar-item\"\n      title=\"{{ title }}\"\n      role=\"button\"\n      ><i class=\"pi pi-{{icon}}\"></i>\n    </a>\n  `,\n  styles: [\n    `\n      .toolbar-item {\n        color: #757575;\n        display: inline-block;\n        padding: 3px;\n        text-align: center;\n        font-size: 1.3em;\n        transition: all 0.4s;\n      }\n      .toolbar-item i {\n        transition: all 0.4s;\n        font-size: 1.5rem;\n        padding: 0.2em;\n      }\n      .toolbar-item:hover {\n        background-color: #e8e8e8;\n      }\n      .toolbar-item:focus {\n        background-color: #e8e8e8;\n      }\n\n    `\n  ]\n})\nexport class ToolbarItemComponent implements OnInit {\n  @Input()\n  title: string;\n\n  @Input()\n  permission: string;\n\n  @Input() link: string;\n  @Input() linkTarget: string;\n  @Input() linkRel: string;\n  @Input()\n  action: Function;\n\n  @Input()\n  icon: string;\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { HttpInterceptor, HttpHandler, HttpRequest, HttpEvent, HttpResponse } from '@angular/common/http'\nimport { Observable } from 'rxjs'\nimport { tap } from 'rxjs/operators'\nimport { HttpProgressLoaderService } from './http-progress-loader.service'\nimport { Injectable } from '@angular/core'\n\n@Injectable({ providedIn: 'root' })\nexport class HttpProgressInterceptor implements HttpInterceptor {\n  private requests: HttpRequest<any>[] = []\n  constructor(private loaderService: HttpProgressLoaderService) {}\n\n  removeRequest(req: HttpRequest<any>) {\n    const i = this.requests.indexOf(req)\n    if (i >= 0) {\n      this.requests.splice(i, 1)\n    }\n    this.loaderService.isLoading.next(this.requests.length > 0)\n  }\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const started = Date.now()\n    this.requests.push(req)\n    this.loaderService.isLoading.next(true)\n    return next.handle(req).pipe(\n      tap(\n        event => {\n          if (event instanceof HttpResponse) {\n            const elapsed = Date.now() - started\n            console.log(\n              `Request for ${req.urlWithParams} took ${elapsed} ms with result ${event.status}. ${this.requests.length}`\n            )\n            this.removeRequest(req)\n          }\n        },\n        error => {\n          console.log(`Http err: status ${error.status} ${JSON.stringify(error)}`)\n          this.removeRequest(req)\n        }\n      )\n    )\n  }\n}\n","import { ConfigurationService } from '../api/configuration.service'\nimport { TranslateService } from '@ngx-translate/core'\nimport { IAuthService } from '../api/iauth.service'\n\nexport function tkitPortalInitializer(\n  configService: ConfigurationService,\n  translateService: TranslateService,\n  authService: IAuthService\n): () => Promise<any> {\n  const startTime = new Date().getTime()\n  console.log(`Start tkit portal module initializer`)\n  return (): Promise<any> =>\n    configService\n      .init()\n      .then(() => console.log('Config initialized, next: init auth'))\n      .then(() => authService.init())\n      .then(res => {\n        console.log(`Auth service init resolved ${res}, next: set default lang`)\n        const availLangsCSV = configService.getProperty('SUPPORTED_LANGUAGES') || 'en,de'\n        const availableLangs = availLangsCSV.split(',').map(l => l.trim())\n        let lang =\n          authService.currentUser().accountSettings?.localeAndTimeSettings?.locale || translateService.getBrowserLang()\n        lang = availableLangs.includes(lang) ? lang : 'de'\n        translateService.use(lang)\n        configService.setLang(lang)\n        const duration = new Date().getTime() - startTime\n        console.log(`Tkit portal module initializer finished in ${(duration / 1000).toFixed(2)}s`)\n\n        return true\n      })\n      .catch(err => {\n        console.log(`\n      #####################################\n      Tkit portal lib initialization failed\n      #####################################\n      `)\n        configService.error = err\n        //throw err;\n      })\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { SearchItemDTO } from '../model/search-item.model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PortalItemService {\r\n  private readonly url = 'portal-api/v1/portalItems/search';\r\n  constructor(private readonly http: HttpClient) {}\r\n\r\n  searchForServices(query: string, portalId: string, count?: number): Observable<SearchItemDTO[]> {\r\n    let params = new HttpParams();\r\n    if (query) {\r\n      params = params.set('query', query);\r\n    }\r\n    if (portalId) {\r\n      params = params.set('portal-id', portalId);\r\n    }\r\n    if (count) {\r\n      params = params.set('count', count.toString());\r\n    }\r\n    return this.http.get<SearchItemDTO[]>(this.url, {\r\n      params\r\n    });\r\n  }\r\n}\r\n","export enum SearchItemType {\r\n  APPLICATION = 'APPLICATION',\r\n  OPEN_SEARCH = 'OPEN_SEARCH'\r\n}\r\n","import { AfterViewInit, Component, ElementRef, EventEmitter, OnInit, Output, ViewChild } from '@angular/core'\nimport { PortalItemService } from '../../../api/services/portal-item.service'\nimport { SearchItemDTO } from '../../../api/model/search-item.model'\nimport { FormControl } from '@angular/forms'\nimport { SearchItemType } from '../../../api/model/search-item-type'\nimport { ConfigurationService } from '../../../api/configuration.service'\nimport { CONFIG_KEY_TKIT_SEARCH_BASE_URL } from '../../constants'\nimport { TranslateService } from '@ngx-translate/core'\nimport { MessageService } from 'primeng/api'\nimport { AutoComplete } from 'primeng/autocomplete'\n\n@Component({\n  selector: 'tk-search-bar',\n  templateUrl: './search-bar.component.html',\n  styleUrls: ['./search-bar.component.scss'],\n})\nexport class SearchBarComponent implements OnInit, AfterViewInit {\n  results: SearchItemDTO[]\n  query: FormControl\n  SearchItemType = SearchItemType\n  searchUrl: string\n  maxResults: 10\n\n  @ViewChild('searchInput') searchInputViewChild: AutoComplete\n\n  @Output()\n  searchClick: EventEmitter<any> = new EventEmitter()\n\n  get openInSearchItem(): SearchItemDTO {\n    return {\n      type: SearchItemType.OPEN_SEARCH,\n      name: 'Open in search view',\n      url: `${this.searchUrl}${this.query.value}`,\n      queryString: this.query.value,\n    }\n  }\n\n  constructor(\n    private searchService: PortalItemService,\n    private config: ConfigurationService,\n    private readonly translateService: TranslateService,\n    private readonly messageService: MessageService\n  ) {}\n\n  ngOnInit(): void {\n    this.query = new FormControl('')\n    const searchUrl = this.config.getProperty(CONFIG_KEY_TKIT_SEARCH_BASE_URL) || '/ops/enterprise-search'\n    this.searchUrl = `${searchUrl}/search?query=`\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => this.searchInputViewChild.focusInput(), 0)\n  }\n\n  search(event: { query: string }) {\n    this.searchService.searchForServices(event.query, null).subscribe(data => {\n      data = data.slice(0, this.maxResults)\n      data.push(this.openInSearchItem)\n      this.results = data\n    })\n  }\n\n  select(event: SearchItemDTO) {\n    if (event.type === SearchItemType.OPEN_SEARCH) {\n      this.query.setValue(event.queryString)\n    } else {\n      this.query.setValue(event.name)\n    }\n    window.open(event.url)\n  }\n\n  goToSearch(clickEnter: boolean) {\n    if (this.query.value) {\n      window.open(`${this.searchUrl}${this.query.value}`)\n    } else {\n      if (clickEnter === false) {\n        this.messageService.add({\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n          summary: this.translateService.instant('QUICK_SEARCH_FORM.WRONG_DATA'),\n          severity: 'error',\n        })\n      }\n    }\n  }\n\n  onSearchClick(event, val: boolean) {\n    this.searchClick.emit({ event, val })\n  }\n}\n","import { Component, Input } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"tk-result-text\",\r\n  template: `\r\n    <span *ngIf=\"resultsCount > 0 && state.totalRecords > 0; else noResults\">\r\n      {{ 'SEARCH.SHOWING' | translate }} {{ state.first + 1 }} -\r\n      {{\r\n        state.rows * (state.page + 1) < state.totalRecords\r\n          ? state.rows * (state.page + 1)\r\n          : state.totalRecords\r\n      }}\r\n      {{ 'SEARCH.OUT_OF_TOTAL' | translate }} {{ state.totalRecords }}\r\n    </span>\r\n    <ng-template #noResults>\r\n      {{ 'SEARCH.NO_RESULTS' | translate }}\r\n    </ng-template>\r\n  `\r\n})\r\nexport class ResultTextComponent {\r\n  @Input() resultsCount: number;\r\n  @Input() state: CustomTableState;\r\n\r\n  constructor() {};\r\n}\r\n\r\nclass CustomTableState {\r\n  page: number;\r\n  pageCount: number;\r\n  rows: number;\r\n  first: number;\r\n  totalRecords: number;\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport {\n  FormBuilder,\n  FormGroup,\n  ValidatorFn,\n  Validators\n} from '@angular/forms';\nimport { FeedbackBasic } from '../../../api/model/feedback.model';\n\n@Component({\n  selector: 'tk-feedback',\n  templateUrl: './feedback.component.html',\n  styleUrls: ['./feedback.component.scss']\n})\nexport class FeedbackComponent implements OnInit {\n  form: FormGroup;\n  minLength = 5;\n\n  @Input()\n  submitDisabled = false;\n  @Input()\n  set feedbackData(feedback: FeedbackBasic) {\n    if (this.form) {\n      this.form.patchValue(feedback);\n    }\n  }\n\n  @Output()\n  feedbackDataChange: EventEmitter<FeedbackBasic> = new EventEmitter();\n  @Output()\n  feedbackSubmit: EventEmitter<FeedbackBasic> = new EventEmitter();\n  commentRequired = false;\n\n  requiredCommentValidator: ValidatorFn = (fg: FormGroup) => {\n    const rating = fg.controls.rating.value;\n    const comment = fg.controls.comment.value;\n    if (rating > 0 && rating < 5) {\n      this.commentRequired = true;\n      return comment.length >= this.minLength ? null : { missingComment: true };\n    } else {\n      this.commentRequired = false;\n      return null;\n    }\n  };\n\n  constructor(private fb: FormBuilder) {}\n\n  ngOnInit(): void {\n    this.form = this.fb.group({\n      rating: [0, [Validators.required, Validators.min(1), Validators.max(5)]],\n      comment: ['', Validators.minLength(this.minLength)],\n      anonymous: false\n    }, { validators: this.requiredCommentValidator });\n    this.form.valueChanges.subscribe(values => {\n      this.feedbackDataChange.emit(values);\n    });\n  }\n\n  submitFeedback() {\n    if (this.form.valid && !this.submitDisabled) {\n      this.submitDisabled = true;\n      this.feedbackSubmit.emit(this.form.value);\n    }\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { SupportTicket } from '../../../api/model/support-ticket.model';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'tk-support-ticket',\n  templateUrl: './support-ticket.component.html',\n  styleUrls: ['./support-ticket.component.scss']\n})\nexport class SupportTicketComponent implements OnInit {\n  formGroup: FormGroup;\n\n  @Input()\n  display = false;\n  @Output()\n  displayChange: EventEmitter<boolean> = new EventEmitter();\n\n  @Output()\n  submitTicket: EventEmitter<SupportTicket> = new EventEmitter();\n\n  constructor(private fb: FormBuilder) {}\n\n  ngOnInit(): void {\n    this.formGroup = this.fb.group({\n      title: ['', Validators.required],\n      description: ['', Validators.required]\n    });\n  }\n\n  close(): void {\n    this.displayChange.emit(false);\n  }\n\n  submit(): void {\n    this.submitTicket.emit(this.formGroup.value);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable({ providedIn: 'root' })\nexport class IconsService {\n  constructor(private http: HttpClient) {}\n\n  public getPrimeicons(): Observable<string[]> {\n    return this.http\n      .get('./portal-lib/assets/primeicons.csv', { responseType: 'text' })\n      .pipe(map(data => data.split('\\n')));\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { FeedbackDTO } from \"../model/feedback.model\";\nimport { HttpClient, HttpParams, HttpHeaders } from \"@angular/common/http\";\nimport { Observable } from \"rxjs\";\nimport { LaunchpadDTO } from \"../model/launchpadDTO\";\nimport { LaunchpadType } from \"../model/launchpadType\";\nimport { LaunchpadTileCreateDTO } from \"../model/launchpadTileCreateDTO\";\n\nexport interface GetAllLaunchpadsFilteredRequestParams {\n  name?: string;\n  portalId?: string;\n  type?: LaunchpadType;\n  userGroupId?: string;\n  userId?: string;\n  userOrganizationId?: string;\n}\n\n@Injectable({ providedIn: \"root\" })\nexport class LaunchpadService {\n  url = \"./launchpad-api/launchpad\";\n\n  constructor(private httpClient: HttpClient) {}\n\n  public getLaunchpads(\n    criteria: GetAllLaunchpadsFilteredRequestParams\n  ): Observable<LaunchpadDTO[]> {\n    const parameters = new HttpParams();\n    Object.keys(criteria).forEach(key => parameters.set(key, criteria[key]));\n    const options = { params: parameters };\n    return this.httpClient.get<LaunchpadDTO[]>(this.url, options);\n  }\n\n  public addToLaunchpad(\n    id: number,\n    createTileDTO: LaunchpadTileCreateDTO\n  ): Observable<LaunchpadDTO> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        \"Content-Type\": \"application/json\"\n      })\n    };\n\n    return this.httpClient.post<LaunchpadDTO>(\n      `${this.url}/${id}/tiles`,\n      createTileDTO,\n      httpOptions\n    );\n  }\n}\n","import { Component, EventEmitter, Inject, Input, OnInit, Output } from '@angular/core'\nimport { IconsService } from '../../../api/services/icons.service'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\nimport { GetAllLaunchpadsFilteredRequestParams, LaunchpadService } from '../../../api/services/launchpad.service'\nimport { AUTH_SERVICE } from '../../../api/injection-tokens'\nimport { IAuthService } from '../../../api/iauth.service'\nimport { LaunchpadDTO } from '../../../api/model/launchpadDTO'\nimport { LaunchpadTileCreateDTO } from '../../../api/model/launchpadTileCreateDTO'\nimport { TileType } from '../../../api/model/tileType'\nimport { MessageService } from 'primeng/api'\nimport { ConfigurationService } from '../../../api/configuration.service'\n\n@Component({\n  selector: 'tk-add-to-launchpad',\n  templateUrl: './add-to-launchpad.component.html',\n  styleUrls: ['./add-to-launchpad.component.scss'],\n})\nexport class AddToLaunchpadComponent implements OnInit {\n  @Input()\n  public display: boolean\n  @Input()\n  public appId: string\n  @Output()\n  public closed = new EventEmitter<boolean>()\n\n  public launchpads: LaunchpadDTO[] = []\n  public icons: string[]\n  public filteredIcons: string[]\n  public launchpadForm: FormGroup\n\n  constructor(\n    private iconsService: IconsService,\n    private fb: FormBuilder,\n    private launchpadService: LaunchpadService,\n    @Inject(AUTH_SERVICE) private readonly auth: IAuthService,\n    private readonly messageService: MessageService,\n    private readonly confService: ConfigurationService\n  ) {}\n\n  public ngOnInit(): void {\n    this.iconsService.getPrimeicons().subscribe(\n      icons => (this.icons = icons.filter(i => !!i)),\n      error => console.log(error)\n    )\n    this.launchpadForm = this.fb.group({\n      icon: ['', Validators.required],\n      type: [{ value: 'FAVOURITE', disabled: true }],\n      name: ['', Validators.required],\n      appId: [{ value: this.appId, disabled: true }],\n      appUrl: [\n        {\n          value: window.location.href.replace(window.location.origin, ''),\n          disabled: true,\n        },\n      ],\n      launchpad: ['', Validators.required],\n    })\n\n    const launchpadCriteria: GetAllLaunchpadsFilteredRequestParams = {\n      portalId: this.confService.getProperty('TKIT_PORTAL_ID'),\n    }\n    this.launchpadService.getLaunchpads(launchpadCriteria).subscribe(\n      data => (this.launchpads = data),\n      error => console.log(error)\n    )\n  }\n\n  public addToLaunchpad(): void {\n    const createTileDTO: LaunchpadTileCreateDTO = {\n      appId: this.launchpadForm.get('appId').value as string,\n      appUrl: this.launchpadForm.get('appUrl').value as string,\n      name: this.launchpadForm.get('name').value as string,\n      type: this.launchpadForm.get('type').value as TileType,\n      icon: this.launchpadForm.get('icon').value as string,\n    }\n    this.launchpadService.addToLaunchpad(this.launchpadForm.get('launchpad').value.id, createTileDTO).subscribe(\n      () => {\n        this.messageService.add({\n          summary: 'App added to favourites successfully',\n          severity: 'success',\n        })\n        this.close()\n      },\n      () => {\n        this.messageService.add({\n          summary: 'Failed to add app to favourites',\n          severity: 'error',\n        })\n      }\n    )\n  }\n\n  public filterIcons(event): void {\n    const query = event.query.toLowerCase()\n    this.filteredIcons = this.icons.filter(icon => icon.toLowerCase().includes(query))\n  }\n\n  public close(event?: any) {\n    this.closed.emit(false)\n  }\n}\n","import {\n  Directive,\n  Input,\n  ElementRef,\n  NgZone, \n  AfterViewInit\n} from '@angular/core';\nimport { Tooltip } from 'primeng/tooltip';\n\n@Directive({ selector: '[pTooltip-aria]' })\n// eslint-disable-next-line @angular-eslint/directive-class-suffix\nexport class TooltipAriaDirective extends Tooltip implements AfterViewInit {\n  constructor(public el: ElementRef, public zone: NgZone) {\n    super(el, zone);\n  }\n  \n  public ngAfterViewInit(): void {\n    this.zone.runOutsideAngular(() => {\n      switch (this.tooltipEvent) {\n        case 'hover':\n          this.initHoverForTooltipEvent();\n          break;\n        case 'focus':\n          this.initFocusForTooltipEvent();\n          break;\n        case 'hover|focus':\n          this.initHoverForTooltipEvent();\n          this.initFocusForTooltipEvent();\n          break;\n        case 'focus|hover':\n          this.initHoverForTooltipEvent();\n          this.initFocusForTooltipEvent();\n          break;\n      }\n    });\n  }\n  \n  private initHoverForTooltipEvent(): void {\n    this.mouseEnterListener = this.onMouseEnter.bind(this);\n    this.mouseLeaveListener = this.onMouseLeave.bind(this);\n    this.clickListener = this.onClick.bind(this);\n    this.el.nativeElement.addEventListener('mouseenter', this.mouseEnterListener);\n    this.el.nativeElement.addEventListener('mouseleave', this.mouseLeaveListener);\n    this.el.nativeElement.addEventListener('click', this.clickListener);\n  }\n  \n  private initFocusForTooltipEvent(): void {\n    this.focusListener = this.onFocus.bind(this);\n    this.blurListener = this.onBlur.bind(this);\n    this.el.nativeElement.addEventListener('focus', this.focusListener);\n    this.el.nativeElement.addEventListener('blur', this.blurListener);\n  }\n  \n  @Input('pTooltip-aria') set pTooltipText(text: string) {\n    this.text = text;\n  }\n}\n","import { CommonModule } from '@angular/common'\nimport { HttpClient, HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http'\nimport { APP_INITIALIZER, NgModule } from '@angular/core'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\nimport { TranslateModule, TranslateService } from '@ngx-translate/core'\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader'\nimport { ButtonModule } from 'primeng/button'\nimport { CalendarModule } from 'primeng/calendar'\nimport { CardModule } from 'primeng/card'\nimport { CheckboxModule } from 'primeng/checkbox'\nimport { ConfirmDialogModule } from 'primeng/confirmdialog'\nimport { DialogModule } from 'primeng/dialog'\nimport { DropdownModule } from 'primeng/dropdown'\nimport { DialogService, DynamicDialogModule } from 'primeng/dynamicdialog'\nimport { InputSwitchModule } from 'primeng/inputswitch'\nimport { InputTextModule } from 'primeng/inputtext'\nimport { InputTextareaModule } from 'primeng/inputtextarea'\nimport { MenuModule } from 'primeng/menu'\nimport { MessageModule } from 'primeng/message'\nimport { MessagesModule } from 'primeng/messages'\nimport { OverlayPanelModule } from 'primeng/overlaypanel'\nimport { PaginatorModule } from 'primeng/paginator'\nimport { PanelModule } from 'primeng/panel'\nimport { PanelMenuModule } from 'primeng/panelmenu'\nimport { ScrollPanelModule } from 'primeng/scrollpanel'\nimport { SelectButtonModule } from 'primeng/selectbutton'\nimport { TableModule } from 'primeng/table'\nimport { ToastModule } from 'primeng/toast'\nimport { ToggleButtonModule } from 'primeng/togglebutton'\nimport { TooltipModule } from 'primeng/tooltip'\nimport { AutoCompleteModule } from 'primeng/autocomplete'\nimport { RatingModule } from 'primeng/rating'\nimport { RippleModule } from 'primeng/ripple'\nimport { SkeletonModule } from 'primeng/skeleton'\nimport { BreadcrumbModule } from \"primeng/breadcrumb\";\nimport { ConfigurationService } from '../api/configuration.service'\nimport { AUTH_SERVICE } from '../api/injection-tokens'\nimport { ActionDirective } from './components/action.directive'\nimport { BreadcrumbComponent } from './components/breadcrumbs/breadcrumb.component'\n// import { KeycloakAngularModule, KeycloakService } from \"keycloak-angular\";\nimport { CollapsibleDirective } from './components/collapsible.directive'\nimport { AppFooterComponent } from './components/footer.component'\nimport { HelpEditDialogComponent } from './components/help-edit-dialog.component'\nimport { HttpProgressLoaderComponent } from './components/http-progress-loader.component'\nimport { AppInlineProfileComponent } from './components/inline-profile.component'\nimport { LoadingComponent } from './components/loading/loading.component'\nimport { NoHelpInfoComponent } from './components/no-help-info/no-help-info.component'\nimport { PanelHeaderComponent } from './components/panel-header.component'\nimport { HeaderComponent } from './components/portal-header/header.component'\nimport { AppMenuComponent, AppSubMenuComponent } from './components/portal-menu/portal-menu.component'\nimport { PortalPageComponent } from './components/portal-page/portal-page.component'\nimport { PortalSearchPageComponent } from './components/portal-search-page/portal-search-page.component'\nimport { PortalViewportComponent } from './components/portal-viewport/portal-viewport.component'\nimport { TkIfPermDirective } from './components/tkifperm.directive'\nimport { ToolbarItemComponent } from './components/toolbar-item.component'\nimport { HttpProgressInterceptor } from './http-progress-interceptor'\nimport { tkitPortalInitializer } from './tkitPortalInitilizer'\nimport { SearchBarComponent } from './components/search-bar/search-bar.component'\nimport { MultiTranslateHttpLoader } from 'ngx-translate-multi-http-loader'\nimport { ResultTextComponent } from './components/result-text.component'\nimport { FeedbackComponent } from './components/feedback/feedback.component'\nimport { SupportTicketComponent } from './components/support-ticket/support-ticket.component'\nimport { AddToLaunchpadComponent } from './components/add-to-launchpad/add-to-launchpad.component'\nimport { TooltipAriaDirective } from './components/aria/tooltip.directive'\nimport { HttpCacheInterceptorModule, useHttpCacheLocalStorage } from '@ngneat/cashew'\n\nexport function HttpLoaderFactory2(http: HttpClient) {\n  return new TranslateHttpLoader(http, './portal-lib/assets/i18n/')\n}\n\nexport function StandardTranslateHttpLoader(http: HttpClient) {\n  return new MultiTranslateHttpLoader(http, [\n    { prefix: './assets/i18n/', suffix: '.json' },\n    { prefix: './portal-lib/assets/i18n/', suffix: '.json' },\n  ])\n}\n\n@NgModule({\n  declarations: [\n    PortalViewportComponent,\n    ToolbarItemComponent,\n    AppMenuComponent,\n    AppSubMenuComponent,\n    HeaderComponent,\n    AppFooterComponent,\n    HelpEditDialogComponent,\n    BreadcrumbComponent,\n    AppInlineProfileComponent,\n    HttpProgressLoaderComponent,\n    PortalPageComponent,\n    PanelHeaderComponent,\n    CollapsibleDirective,\n    ActionDirective,\n    TooltipAriaDirective,\n    NoHelpInfoComponent,\n    PortalSearchPageComponent,\n    LoadingComponent,\n    TkIfPermDirective,\n    SearchBarComponent,\n    ResultTextComponent,\n    FeedbackComponent,\n    AddToLaunchpadComponent,\n    SupportTicketComponent,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n\n    // KeycloakAngularModule,\n\n    // primeng\n    // TODO do not import all!!!\n    AutoCompleteModule,\n    BreadcrumbModule,\n    ButtonModule,\n    CalendarModule,\n    CardModule,\n    CheckboxModule,\n    ConfirmDialogModule,\n    DialogModule,\n    DynamicDialogModule,\n    DropdownModule,\n    InputSwitchModule,\n    InputTextModule,\n    InputTextareaModule,\n    MenuModule,\n    MessageModule,\n    MessagesModule,\n    OverlayPanelModule,\n    PanelModule,\n    PanelMenuModule,\n    RatingModule,\n    RippleModule,\n    ScrollPanelModule,\n    SkeletonModule,\n    TableModule,\n    ToastModule,\n    ToggleButtonModule,\n    TooltipModule,\n    // end primeng modules\n    HttpClientModule,\n    HttpCacheInterceptorModule.forRoot(),\n\n    TranslateModule,\n  ],\n  exports: [\n    FormsModule,\n\n    // reexport primeng\n    AutoCompleteModule,\n    BreadcrumbModule,\n    ButtonModule,\n    CalendarModule,\n    CardModule,\n    CheckboxModule,\n    ConfirmDialogModule,\n    DialogModule,\n    DynamicDialogModule,\n    DropdownModule,\n    InputSwitchModule,\n    InputTextModule,\n    InputTextareaModule,\n    MenuModule,\n    MessageModule,\n    MessagesModule,\n    OverlayPanelModule,\n    PaginatorModule,\n    PanelModule,\n    PanelMenuModule,\n    RatingModule,\n    RippleModule,\n    SelectButtonModule,\n    SkeletonModule,\n    TableModule,\n    ToastModule,\n    ToggleButtonModule,\n    TooltipModule,\n\n    // angular common\n    HttpClientModule,\n    HttpCacheInterceptorModule,\n\n    // our components\n    PortalViewportComponent,\n    PortalPageComponent,\n    PortalSearchPageComponent,\n    PanelHeaderComponent,\n    ToolbarItemComponent,\n    LoadingComponent,\n    CollapsibleDirective,\n    ActionDirective,\n    TooltipAriaDirective,\n    TkIfPermDirective,\n    ResultTextComponent,\n  ],\n  entryComponents: [NoHelpInfoComponent],\n  providers: [\n    useHttpCacheLocalStorage,\n\n    DialogService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: HttpProgressInterceptor,\n      multi: true,\n    },\n    {\n      provide: APP_INITIALIZER,\n      useFactory: tkitPortalInitializer,\n      multi: true,\n      deps: [ConfigurationService, TranslateService, AUTH_SERVICE],\n    },\n  ],\n})\nexport class TkitPortalModule {}\n","import { forwardRef } from '@angular/core';\r\nimport { PortalSearchPage } from './pages/PortalSearchPage';\r\n\r\nexport function provideParent(component: any, parentType?: any) {\r\n  return {\r\n    provide: parentType || PortalSearchPage,\r\n    useExisting: forwardRef(() => component)\r\n  };\r\n}\r\n","/*\n * Public API Surface of portal-lib\n */\n\nexport * from './lib/mock-auth/mock-auth.module';\nexport * from './lib/auth/auth.module';\n\nexport * from './lib/api/model';\nexport * from './lib/api/iauth.service';\nexport * from './lib/api/services/breadcrumb.service';\nexport * from './lib/api/configuration.service';\nexport * from './lib/api/injection-tokens';\nexport * from './lib/api/state.service';\nexport * from './lib/api/services/user-profile.service';\nexport { DEFAULT_AVATAR_URL } from './lib/tkit-portal/constants';\n\nexport * from './lib/tkit-portal/tkit-portal.module';\nexport * from './lib/tkit-portal/components/portal-viewport/portal-viewport.component';\nexport * from './lib/tkit-portal/components/panel-header.component';\nexport * from './lib/tkit-portal/components/loading/loading.component';\nexport * from './lib/tkit-portal/components/collapsible.directive';\n\nexport * from './lib/tkit-portal/pages/PortalSearchPage';\nexport * from './lib/tkit-portal/pages/PortalPage';\n\nexport * from './lib/tkit-portal/functions';\nexport * from './lib/tkit-portal/components/tkifperm.directive';\nexport * from './lib/tkit-portal/components/action.directive';\nexport * from './lib/tkit-portal/components/portal-search-page/portal-search-page.component';\nexport * from './lib/tkit-portal/components/toolbar-item.component';\nexport * from './lib/tkit-portal/components/portal-page/portal-page.component';\nexport * from './lib/tkit-portal/components/result-text.component';\nexport * from './lib/tkit-portal/components/aria/tooltip.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {FeedbackApiService as h} from './lib/api/services/feedback-api.service';\nexport {HelpPageAPIService as d} from './lib/api/services/help-page-api.service';\nexport {IconsService as y} from './lib/api/services/icons.service';\nexport {LaunchpadService as z} from './lib/api/services/launchpad.service';\nexport {MenuApiService as g} from './lib/api/services/menu-api.service';\nexport {MenuService as f} from './lib/api/services/menu.service';\nexport {PortalApiService as c} from './lib/api/services/portal-api.service';\nexport {PortalItemService as v} from './lib/api/services/portal-item.service';\nexport {SearchTemplateAPIService as t} from './lib/api/services/search-template-api.service';\nexport {SupportTicketApiService as i} from './lib/api/services/support-ticket-api.service';\nexport {ThemeService as e} from './lib/api/services/theme.service';\nexport {KeycloakAuthService as b} from './lib/auth/keycloak-auth.service';\nexport {MockAuthService as a} from './lib/mock-auth/mock-auth.service';\nexport {AddToLaunchpadComponent as x} from './lib/tkit-portal/components/add-to-launchpad/add-to-launchpad.component';\nexport {BreadcrumbComponent as o} from './lib/tkit-portal/components/breadcrumbs/breadcrumb.component';\nexport {FeedbackComponent as w} from './lib/tkit-portal/components/feedback/feedback.component';\nexport {AppFooterComponent as m} from './lib/tkit-portal/components/footer.component';\nexport {HelpEditDialogComponent as n} from './lib/tkit-portal/components/help-edit-dialog.component';\nexport {HttpProgressLoaderComponent as q} from './lib/tkit-portal/components/http-progress-loader.component';\nexport {AppInlineProfileComponent as p} from './lib/tkit-portal/components/inline-profile.component';\nexport {NoHelpInfoComponent as s} from './lib/tkit-portal/components/no-help-info/no-help-info.component';\nexport {HeaderComponent as l} from './lib/tkit-portal/components/portal-header/header.component';\nexport {AppMenuComponent as j,AppSubMenuComponent as k} from './lib/tkit-portal/components/portal-menu/portal-menu.component';\nexport {SearchBarComponent as u} from './lib/tkit-portal/components/search-bar/search-bar.component';\nexport {SupportTicketComponent as ba} from './lib/tkit-portal/components/support-ticket/support-ticket.component';\nexport {HttpProgressInterceptor as bb} from './lib/tkit-portal/http-progress-interceptor';\nexport {HttpProgressLoaderService as r} from './lib/tkit-portal/http-progress-loader.service';\nexport {tkitPortalInitializer as bc} from './lib/tkit-portal/tkitPortalInitilizer';"],"names":["InjectionToken","of","Injectable","NgModule","CommonModule","APP_INITIALIZER","withCache","HttpClient","ReplaySubject","Inject","switchMapTo","shareReplay","tap","KeycloakEventType","KeycloakService","Router","KeycloakAngularModule","PhoneType","Subject","Directive","Renderer2","ElementRef","ViewContainerRef","Input","EventEmitter","Component","Output","BehaviorSubject","trigger","state","style","transition","animate","ChangeDetectionStrategy","DynamicDialogConfig","DynamicDialogRef","ViewChild","filter","NavigationEnd","Injector","ContentChild","HttpHeaders","map","catchError","MessageService","NavigationStart","ActivationEnd","NavigationError","NgZone","ActivatedRoute","DialogService","BreakpointObserver","TranslateService","PrimeNGConfig","isObservable","SkipSelf","Optional","TemplateRef","HttpResponse","HttpParams","FormControl","Validators","FormBuilder","Tooltip","TranslateHttpLoader","MultiTranslateHttpLoader","FormsModule","ReactiveFormsModule","AutoCompleteModule","BreadcrumbModule","ButtonModule","CalendarModule","CardModule","CheckboxModule","ConfirmDialogModule","DialogModule","DynamicDialogModule","DropdownModule","InputSwitchModule","InputTextModule","InputTextareaModule","MenuModule","MessageModule","MessagesModule","OverlayPanelModule","PanelModule","PanelMenuModule","RatingModule","RippleModule","ScrollPanelModule","SkeletonModule","TableModule","ToastModule","ToggleButtonModule","TooltipModule","HttpClientModule","HttpCacheInterceptorModule","TranslateModule","PaginatorModule","SelectButtonModule","useHttpCacheLocalStorage","HTTP_INTERCEPTORS","forwardRef"],"mappings":"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"}